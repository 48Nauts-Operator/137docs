<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# Dynamic Analysis Agent Documentation

## Overview

This module provides a dynamic analysis agent for inspecting Python modules and objects at runtime. It's designed to work with modules where source code is not available (like built-in modules) or where dynamic modifications have been made that static analysis cannot detect.

## Purpose

The dynamic analysis agent serves several key purposes:

- **Inspect built-in modules**: Analyze modules like `itertools` where source code is unavailable
- **Handle dynamic modifications**: Capture runtime changes to modules that static analysis cannot detect
- **Runtime introspection**: Use Python's `inspect` module to gather information about live objects
- **Complement static analysis**: Work alongside static analysis tools to provide complete code documentation

## Main Functions

### `inspect()`

```python
def inspect(
    module_name: str,
    *,
    filepath: Path | None = None,
    import_paths: Sequence[str | Path] | None = None,
    extensions: Extensions | None = None,
    parent: Module | None = None,
    docstring_parser: DocstringStyle | Parser | None = None,
    docstring_options: dict[str, Any] | None = None,
    lines_collection: LinesCollection | None = None,
    modules_collection: ModulesCollection | None = None,
) -> Module
```

The main entry point for dynamic module inspection.

**Parameters:**
- `module_name`: The name of the module to inspect
- `filepath`: Optional path to the module file
- `import_paths`: Paths to search when importing the module
- `extensions`: Extensions to use during inspection
- `parent`: Optional parent module
- `docstring_parser`: Parser for processing docstrings
- `docstring_options`: Additional parsing options
- `lines_collection`: Collection of source code lines
- `modules_collection`: Collection of modules

**Returns:** A `Module` object with all members populated through dynamic inspection.

## Core Classes

### `Inspector`

The main class responsible for performing dynamic analysis on Python objects.

#### Key Attributes

- `module_name`: Name of the module being inspected
- `filepath`: Optional file path to the module
- `extensions`: Extensions used during inspection
- `current`: The object currently being inspected
- `docstring_parser`: Parser for processing docstrings

#### Key Methods

##### `get_module()`
```python
def get_module(self, import_paths: Sequence[str | Path] | None = None) -> Module
```
Builds and returns the module object by triggering complete inspection of all members.

##### `inspect()`
```python
def inspect(self, node: ObjectNode) -> None
```
Main inspection method that delegates to specific inspection methods based on object type.

##### Object-Specific Inspection Methods

The `Inspector` class provides specialized methods for different types of Python objects:

- **`inspect_module()`**: Inspects module objects
- **`inspect_class()`**: Inspects class definitions
- **`inspect_function()`**: Inspects regular functions
- **`inspect_method()`**: Inspects class methods
- **`inspect_staticmethod()`**: Inspects static methods
- **`inspect_classmethod()`**: Inspects class methods
- **`inspect_property()`**: Inspects property objects
- **`inspect_attribute()`**: Inspects class/module attributes

##### Helper Methods

- **`_get_docstring()`**: Extracts and cleans docstrings from objects
- **`_get_linenos()`**: Attempts to get line numbers from source code
- **`handle_function()`**: Generic function handler with label support
- **`handle_attribute()`**: Generic attribute handler

## Utility Functions

### `_convert_parameter()`
```python
def _convert_parameter(parameter: SignatureParameter, parent: Module | Class) -> Parameter
```
Converts Python's `inspect.Parameter` objects to the internal `Parameter` representation.

### `_convert_object_to_annotation()`
```python
def _convert_object_to_annotation(obj: Any, parent: Module | Class) -> str | Expr | None
```
Converts runtime annotation objects to string or expression representations.

## Usage Examples

```python
# Basic module inspection
module = inspect("itertools")

# Inspect with custom import paths
module = inspect("mymodule", import_paths=["/path/to/modules"])

# Inspect with docstring parsing
module = inspect("mymodule", docstring_parser="google")
```

## Important Notes

⚠️ **Direct Usage Warning**: This function is generally not used directly. Most users should rely on `GriffeLoader` and its `load()` shortcut function instead.

⚠️ **Exception Handling**: The inspector includes broad exception handling since many operations can fail when dealing with dynamic objects, built-ins, or complex inheritance hierarchies.

⚠️ **Performance Considerations**: Dynamic inspection requires actually importing and executing module code, which can be slower than static analysis.

## Integration

This module integrates with:
- **Extensions system**: Supports pluggable extensions for custom behavior
- **Griffe loader**: Works as part of the larger Griffe documentation system
- **Collections**: Integrates with line and module collections for cross-referencing
- **Static analysis**: Complements static analysis when source code is unavailable

## Limitations

- Requires the ability to import and execute the target module
- May not capture all dynamic behaviors that occur after module loading
- Performance overhead compared to static analysis
- Some built-in objects may not provide complete introspection data