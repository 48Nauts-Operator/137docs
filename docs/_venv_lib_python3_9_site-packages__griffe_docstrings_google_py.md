<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Google-Style Docstring Parser

This module provides functionality to parse Google-style docstrings into structured data for documentation generation and analysis.

## Purpose

The module takes raw docstring text and converts it into structured sections (parameters, returns, examples, etc.) that can be processed programmatically. It handles various Google docstring conventions and provides validation and warning capabilities.

## Main Function

### `parse_google()`

The primary entry point for parsing Google-style docstrings.

```python
def parse_google(
    docstring: Docstring,
    *,
    ignore_init_summary: bool = False,
    trim_doctest_flags: bool = True,
    returns_multiple_items: bool = True,
    returns_named_value: bool = True,
    returns_type_in_property_summary: bool = False,
    receives_multiple_items: bool = True,
    receives_named_value: bool = True,
    warn_unknown_params: bool = True,
    warnings: bool = True,
    **options: Any,
) -> list[DocstringSection]:
```

**Parameters:**
- `docstring`: The docstring object to parse
- `ignore_init_summary`: Skip summary in `__init__` method docstrings
- `trim_doctest_flags`: Remove doctest flags from code examples
- `returns_multiple_items`: Parse multiple return values with indentation
- `returns_named_value`: Parse returns as name+description vs type+description
- `warn_unknown_params`: Warn about parameters not in function signature
- `warnings`: Enable/disable warning logging

**Returns:** List of structured docstring sections

## Supported Docstring Sections

The parser recognizes these Google-style sections:

- **Parameters/Args**: Function/method parameters
- **Returns**: Return values and types
- **Yields**: Generator yield values
- **Raises/Exceptions**: Exception types that may be raised
- **Attributes**: Class/module attributes
- **Examples**: Code examples and doctests
- **Functions/Methods**: Available functions
- **Classes**: Available classes
- **Modules**: Available modules
- **Warns/Warnings**: Warning types

## Key Internal Functions

### Section Readers

Each docstring section type has a dedicated reader function:

- `_read_parameters_section()`: Parses parameter documentation
- `_read_returns_section()`: Parses return value documentation
- `_read_examples_section()`: Parses code examples with doctest support
- `_read_raises_section()`: Parses exception documentation
- `_read_attributes_section()`: Parses attribute documentation

### Block Processing

- `_read_block_items()`: Reads indented blocks with multiple items
- `_read_block()`: Reads a single indented text block
- `_get_name_annotation_description()`: Extracts name, type, and description from lines

## Features

### Indentation Handling
- Validates proper indentation for continuation lines
- Warns about confusing indentation patterns
- Handles nested code blocks and examples

### Type Annotation Support
- Parses inline type annotations: `param_name (str): Description`
- Falls back to function signature annotations when missing
- Supports complex type expressions

### Code Example Processing
- Detects Python doctest examples (`>>>`)
- Separates text from code examples
- Optional trimming of doctest flags
- Handles markdown code blocks

### Validation & Warnings
- Checks parameter names against function signatures
- Warns about missing type annotations
- Validates section formatting
- Provides detailed error context with line numbers

## Regular Expressions

The module uses several regex patterns for parsing:

```python
_RE_ADMONITION = re.compile(r"^(?P<type>[\w][\s\w-]*):(\s+(?P<title>[^\s].*))?\s*$")
_RE_NAME_ANNOTATION_DESCRIPTION = re.compile(r"^(?:(?P<name>\w+)?\s*(?:\((?P<type>.+)\))?:\s*)?(?P<desc>.*)$")
_RE_DOCTEST_BLANKLINE = re.compile(r"^\s*<BLANKLINE>\s*$")
_RE_DOCTEST_FLAGS = re.compile(r"(\s*#\s*doctest:.+)$")
```

## Usage Notes

### Best Practices
- Ensure proper indentation (typically 4 spaces for continuation lines)
- Include type annotations either inline or in function signatures
- Use blank lines to separate sections clearly
- Follow Google docstring style guide conventions

### Common Issues
- **Indentation**: Continuation lines must be properly indented
- **Missing Types**: Parameters without type information generate warnings
- **Unknown Parameters**: Documented parameters not in signature are flagged
- **Section Format**: Sections must follow `Section Name:` format with content indented below

### Integration
This parser is typically used as part of a larger documentation generation system, converting raw docstrings into structured data that can be rendered as HTML, markdown, or other formats.

The module integrates with the broader `_griffe` package for Python code analysis and documentation generation.