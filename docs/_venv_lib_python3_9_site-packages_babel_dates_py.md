<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# babel.dates Module Documentation

## Overview

The `babel.dates` module provides locale-dependent formatting and parsing of dates and times. It handles timezone processing, supports various format patterns, and provides internationalized date/time representations based on CLDR (Common Locale Data Repository) data.

## Purpose

This module enables applications to:
- Format dates, times, and datetimes according to locale-specific patterns
- Parse date/time strings in various formats
- Handle timezone information and conversions
- Format relative time differences (timedeltas)
- Work with locale-specific names for days, months, quarters, eras, and time periods

## Key Features

- **Locale-aware formatting**: Automatic formatting based on system locale or specified locale
- **Timezone support**: Compatible with both `pytz` and `zoneinfo` libraries
- **Pattern matching**: Support for CLDR skeleton patterns and custom format strings
- **Interval formatting**: Format time ranges between two instants
- **Relative time**: Format time differences in human-readable form

## Environment Variables

The default locale is determined by these environment variables (in order):
- `LC_TIME`
- `LC_ALL` 
- `LANG`

## Important Classes

### DateTimePattern

Represents a parsed datetime format pattern that can be applied to datetime objects.

```python
pattern = parse_pattern("MMM d, yyyy")
formatted = pattern.apply(datetime.date(2023, 4, 1), 'en_US')
# Returns: "Apr 1, 2023"
```

### DateTimeFormat

Handles the actual formatting logic for datetime objects according to locale rules.

```python
formatter = DateTimeFormat(datetime.now(), 'en_US')
era = formatter.format_era('G', 4)  # Returns "Anno Domini"
```

## Core Functions

### Formatting Functions

#### `format_date(date, format='medium', locale=None)`
Format a date according to locale-specific patterns.

```python
from datetime import date
d = date(2007, 4, 1)
format_date(d, locale='en_US')  # Returns: 'Apr 1, 2007'
format_date(d, format='full', locale='de_DE')  # Returns: 'Sonntag, 1. April 2007'
```

#### `format_time(time, format='medium', tzinfo=None, locale=None)`
Format a time with optional timezone information.

```python
from datetime import time
t = time(15, 30)
format_time(t, locale='en_US')  # Returns: '3:30:00 PM'
format_time(t, format='short', locale='de_DE')  # Returns: '15:30'
```

#### `format_datetime(datetime, format='medium', tzinfo=None, locale=None)`
Format a complete datetime object.

```python
from datetime import datetime
dt = datetime(2007, 4, 1, 15, 30)
format_datetime(dt, locale='en_US')  # Returns: 'Apr 1, 2007, 3:30:00 PM'
```

#### `format_skeleton(skeleton, datetime=None, tzinfo=None, fuzzy=True, locale=None)`
Format using CLDR skeleton patterns for flexible formatting.

```python
from datetime import datetime
t = datetime(2007, 4, 1, 15, 30)
format_skeleton('MMMEd', t, locale='fr')  # Returns: 'dim. 1 avr.'
format_skeleton('MMMEd', t, locale='en')  # Returns: 'Sun, Apr 1'
```

### Parsing Functions

#### `parse_date(string, locale=None, format='medium')`
Parse a date string into a `datetime.date` object.

```python
parse_date('4/1/04', locale='en_US')      # Returns: datetime.date(2004, 4, 1)
parse_date('01.04.2004', locale='de_DE')  # Returns: datetime.date(2004, 4, 1)
parse_date('2004-04-01')                  # Returns: datetime.date(2004, 4, 1) (ISO format)
```

#### `parse_time(string, locale=None, format='medium')`
Parse a time string into a `datetime.time` object.

```python
parse_time('15:30:00', locale='en_US')  # Returns: datetime.time(15, 30)
parse_time('3:30 PM', locale='en_US')   # Returns: datetime.time(15, 30)
```

### Timezone Functions

#### `get_timezone(zone=None)`
Get a timezone object by name or return local timezone if None.

```python
tz = get_timezone('Europe/Berlin')
local_tz = get_timezone()  # Returns local timezone
```

#### `get_timezone_name(dt_or_tzinfo, width='long', locale=None)`
Get the localized display name for a timezone.

```python
from datetime import time
dt = time(15, 30, tzinfo=get_timezone('America/Los_Angeles'))
get_timezone_name(dt, locale='en_US')  # Returns: 'Pacific Standard Time'
```

### Locale Data Functions

#### `get_day_names(width='wide', context='format', locale=None)`
Get localized day names.

```python
get_day_names('wide', locale='en_US')[1]    # Returns: 'Tuesday'
get_day_names('short', locale='en_US')[1]   # Returns: 'Tu'
get_day_names('abbreviated', locale='es')[1] # Returns: 'mar'
```

#### `get_month_names(width='wide', context='format', locale=None)`
Get localized month names.

```python
get_month_names('wide', locale='en_US')[1]       # Returns: 'January'
get_month_names('abbreviated', locale='es')[1]   # Returns: 'ene'
```

### Advanced Functions

#### `format_timedelta(delta, granularity='second', threshold=0.85, add_direction=False, format='long', locale=None)`
Format time differences in human-readable form