<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# babel.messages.plurals

## Overview

This module provides plural form definitions for internationalization (i18n) in the Babel library. It contains plural rules for various languages and locales, which are essential for proper translation of messages that depend on numeric quantities.

## Purpose

The primary purpose of this module is to:
- Define plural rules for different languages and locales
- Provide a standardized way to access plural form information
- Support gettext-style pluralization in translation catalogs

## Important Notes

⚠️ **Deprecation Warning**: The module contains a comment indicating this file should be removed due to duplication with `babel.plural`.

## Key Components

### Constants

#### `LC_CTYPE`
```python
LC_CTYPE: str | None = default_locale('LC_CTYPE')
```
- Default system character type locale
- Used as fallback when no locale is specified

#### `PLURALS`
```python
PLURALS: dict[str, tuple[int, str]]
```
- Dictionary mapping language codes to plural rule tuples
- Each tuple contains:
  - Number of plural forms (int)
  - Plural expression (str) - C-style conditional expression
- Covers 60+ languages including major world languages

#### `DEFAULT_PLURAL`
```python
DEFAULT_PLURAL: tuple[int, str] = (2, '(n != 1)')
```
- Fallback plural rule when language is not found
- Uses common English-style pluralization (singular vs plural)

### Classes

#### `_PluralTuple`

A specialized tuple class that extends the basic tuple with convenient properties for plural information.

**Properties:**
- `num_plurals`: Returns the number of plural forms
- `plural_expr`: Returns the plural expression
- `plural_forms`: Returns formatted gettext plural forms string

**Methods:**
- `__str__()`: Returns the plural forms string for gettext catalogs

### Functions

#### `get_plural(locale=None)`

Main function to retrieve plural information for a given locale.

**Parameters:**
- `locale` (Locale | str | None): Locale object or identifier. Defaults to system locale.

**Returns:**
- `_PluralTuple`: Tuple containing plural forms count and expression

**Examples:**
```python
# Simple case - English
get_plural('en')  # Returns (2, '(n != 1)')

# Complex case - Irish 
get_plural('ga')  # Returns (5, '(n==1 ? 0 : n==2 ? 1 : n>=3 && n<=6 ? 2 : n>=7 && n<=10 ? 3 : 4)')

# Using the returned object
tup = get_plural("ja")
print(tup.num_plurals)    # 1
print(tup.plural_expr)    # '0'
print(tup.plural_forms)   # 'nplurals=1; plural=0;'
```

## Language Coverage

The module supports plural rules for many languages including:

- **Simple pluralization** (2 forms): English, German, Spanish, French, Italian, etc.
- **No pluralization** (1 form): Japanese, Korean, Chinese, Thai, Vietnamese, etc.
- **Complex pluralization** (3-6 forms): Arabic, Russian, Polish, Irish, Breton, etc.

## Usage Recommendations

1. **Use `get_plural()` function** rather than accessing `PLURALS` dictionary directly
2. **Handle fallbacks gracefully** - the function will fall back to language code if full locale isn't found
3. **Consider migration** - Since this module is marked for removal, check if `babel.plural` should be used instead
4. **Validate expressions** - The plural expressions are C-style and should be validated in your gettext implementation

## Example Usage

```python
from babel.messages.plurals import get_plural

# Get plural information for different locales
en_plural = get_plural('en')
print(f"English: {en_plural}")  # nplurals=2; plural=(n != 1);

ru_plural = get_plural('ru') 
print(f"Russian: {ru_plural}")  # Complex Russian plural rules

# Use in gettext catalog
catalog_header = f"Plural-Forms: {en_plural}\\n"
```