<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# babel.numbers

This module provides locale-dependent formatting and parsing of numeric data, including decimal numbers, currencies, percentages, and scientific notation.

## Purpose

The `babel.numbers` module enables internationalization of numeric data by:
- Formatting numbers according to locale-specific conventions
- Parsing localized number strings back to numeric values
- Supporting different numbering systems (e.g., Arabic-Indic digits)
- Handling currency formatting with proper symbols and precision
- Providing compact number formats (e.g., "12K" instead of "12,000")

## Locale Detection

The default locale is determined by these environment variables (in order):
- `LC_MONETARY` (for currency functions)
- `LC_NUMERIC`
- `LC_ALL`
- `LANG`

## Key Classes and Exceptions

### Exceptions

#### `UnknownCurrencyError`
Raised when requesting data for an unsupported currency.

```python
# Example usage
try:
    validate_currency('XYZ')
except UnknownCurrencyError as e:
    print(f"Currency not found: {e.identifier}")
```

#### `UnsupportedNumberingSystemError`
Raised when an unsupported numbering system is requested for a locale.

#### `NumberFormatError`
Raised when a string cannot be parsed into a number.

```python
# Includes suggestions for corrections
try:
    parse_decimal('invalid')
except NumberFormatError as e:
    print(f"Error: {e}")
    print(f"Suggestions: {e.suggestions}")
```

### Core Classes

#### `NumberPattern`
Represents a parsed number format pattern that can be applied to format numbers.

**Key Methods:**
- `apply()` - Formats a number according to the pattern
- `compute_scale()` - Calculates scaling factor for percentages/permille
- `scientific_notation_elements()` - Handles scientific notation formatting

## Important Functions

### Currency Functions

#### `list_currencies(locale=None)`
Returns a set of currency codes, optionally filtered by locale.

```python
# All currencies
all_currencies = list_currencies()

# Currencies for specific locale
us_currencies = list_currencies('en_US')
```

#### `get_currency_name(currency, count=None, locale=None)`
Returns the localized currency name with proper pluralization.

```python
get_currency_name('USD', locale='en_US')  # 'US Dollar'
get_currency_name('USD', count=2, locale='en_US')  # 'US dollars'
```

#### `get_currency_symbol(currency, locale=None)`
Returns the currency symbol for a locale.

```python
get_currency_symbol('USD', locale='en_US')  # '$'
get_currency_symbol('EUR', locale='de_DE')  # '€'
```

### Number Formatting Functions

#### `format_decimal(number, format=None, locale=None, **kwargs)`
Formats decimal numbers with locale-specific separators.

```python
format_decimal(1234.5, locale='en_US')  # '1,234.5'
format_decimal(1234.5, locale='de_DE')  # '1.234,5'
format_decimal(1234.5, locale='ar_EG', numbering_system='default')  # '1٬234٫5'
```

**Key Parameters:**
- `decimal_quantization` - Controls precision truncation
- `group_separator` - Enable/disable thousands grouping
- `numbering_system` - Specify numbering system ("latn", "default", etc.)

#### `format_currency(number, currency, locale=None, **kwargs)`
Formats currency values with proper symbols and precision.

```python
format_currency(1099.98, 'USD', locale='en_US')  # '$1,099.98'
format_currency(1099.98, 'EUR', locale='de_DE')  # '1.099,98 €'
```

**Format Types:**
- `"standard"` - Default currency format
- `"accounting"` - Accounting-style format
- `"name"` - Long currency name format

#### `format_percent(number, locale=None, **kwargs)`
Formats percentage values.

```python
format_percent(0.34, locale='en_US')  # '34%'
format_percent(25.1234, locale='sv_SE')  # '2 512 %'
```

#### `format_compact_decimal(number, format_type="short", locale=None, **kwargs)`
Formats numbers in compact notation.

```python
format_compact_decimal(12345, format_type="short", locale='en_US')  # '12K'
format_compact_decimal(12345, format_type="long", locale='en_US')   # '12 thousand'
```

### Number Parsing Functions

#### `parse_decimal(string, locale=None, strict=False, **kwargs)`
Parses localized decimal strings.

```python
parse_decimal('1,099.98', locale='en_US')  # Decimal('1099.98')
parse_decimal('1.099,98', locale='de')     # Decimal('1099.98')
```

#### `parse_number(string, locale=None, **kwargs)`
Parses localized integer strings.

```python
parse_number('1,099', locale='en_US')  # 1099
parse_number('1.099', locale='de_DE')  # 1099
```

### Symbol Retrieval Functions

#### `get_decimal_symbol(locale=None, numbering_system="latn")`
Returns the decimal separator for a locale.

```python
get_decimal_symbol('en_US')  # '.'
get_decimal_symbol('de_DE')  # ','
```

#### `get_group_symbol(locale=None, numbering_system="latn")`
Returns the thousands separator for a locale.

```python
get_group_symbol('en_US')  # ','
get_group_symbol('de_DE')  # '.'
```

### Utility Functions

#### `parse_pattern(pattern)`
Parses a number format pattern string into a `NumberPattern` object.

#### `get_territory_currencies