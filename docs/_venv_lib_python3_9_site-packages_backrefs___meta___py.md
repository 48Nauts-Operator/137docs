<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Meta Module Documentation

This module provides version management functionality following PEP 440 standards. It contains utilities for parsing, validating, and representing semantic versions in Python projects.

## Overview

The `meta.py` module implements a custom version system that:
- Follows PEP 440 semantic versioning guidelines
- Provides version parsing and validation
- Supports comparison operations between versions
- Handles development, pre-release, and post-release versions

## Constants and Mappings

### Version Parsing Regex
```python
RE_VER = re.compile(r'''(?x)
    (?P<major>\d+)(?:\.(?P<minor>\d+))?(?:\.(?P<micro>\d+))?
    (?:(?P<type>a|b|rc)(?P<pre>\d+))?
    (?:\.post(?P<post>\d+))?
    (?:\.dev(?P<dev>\d+))?
''')
```
- Parses version strings into named groups
- Supports major.minor.micro format with optional components

### Release Type Mappings
- **`REL_MAP`**: Maps release type names to their abbreviated forms
- **`DEV_STATUS`**: Maps release types to development status descriptions for setup files
- **`PRE_REL_MAP`**: Maps abbreviated pre-release types to full names

## Main Classes

### `Version`

A namedtuple-based class that represents a semantic version with validation and comparison capabilities.

#### Structure
```python
Version(major, minor, micro, release, pre, post, dev)
```

#### Parameters
- **`major`** (int): Major version number
- **`minor`** (int): Minor version number  
- **`micro`** (int): Micro/patch version number
- **`release`** (str): Release type (`"final"`, `"alpha"`, `"beta"`, `"candidate"`, or development variants)
- **`pre`** (int): Pre-release number (default: 0)
- **`post`** (int): Post-release number (default: 0)
- **`dev`** (int): Development release number (default: 0)

#### Key Methods

##### `__new__(...)`
- Validates all version components
- Enforces version rules and constraints
- Raises `ValueError` for invalid combinations

##### Private Methods
- **`_is_pre()`**: Returns `True` if this is a pre-release version
- **`_is_dev()`**: Returns `True` if this is a development version
- **`_is_post()`**: Returns `True` if this is a post-release version
- **`_get_dev_status()`**: Returns development status string for setup files
- **`_get_canonical()`**: Returns canonical version string representation

#### Usage Examples

```python
# Final releases
Version(1, 0, 0, "final")                    # 1.0
Version(1, 2, 3, "final")                    # 1.2.3

# Pre-releases
Version(1, 2, 0, "alpha", pre=4)             # 1.2a4
Version(1, 2, 0, "beta", pre=2)              # 1.2b2

# Development releases
Version(1, 2, 3, ".dev")                     # 1.2.3.dev0
Version(1, 2, 3, ".dev", dev=1)              # 1.2.3.dev1

# Post releases
Version(1, 2, 0, "final", post=1)            # 1.2.post1
```

## Functions

### `parse_version(ver: str) -> Version`

Parses a version string into a `Version` object.

#### Parameters
- **`ver`** (str): Version string to parse

#### Returns
- `Version` object representing the parsed version

#### Raises
- `ValueError`: If the version string format is invalid

#### Example
```python
version = parse_version("1.2.3a4.dev1")
# Returns: Version(1, 2, 3, ".dev-alpha", 4, 0, 1)
```

## Module Variables

- **`__version_info__`**: Current module version as a `Version` object
- **`__version__`**: Current module version as a string

## Version Rules and Constraints

### Validation Rules
- All numeric components must be non-negative integers
- Pre-release versions require explicit pre-release numbers (no implicit pre-releases)
- Post-releases cannot be combined with pre-releases
- Development releases can be combined with pre-releases using special syntax

### Supported Release Types
- **`"final"`**: Standard release
- **`"alpha"`**: Alpha pre-release
- **`"beta"`**: Beta pre-release  
- **`"candidate"`**: Release candidate
- **`".dev"`**: Development release
- **`".dev-alpha"`**: Development alpha
- **`".dev-beta"`**: Development beta
- **`".dev-candidate"`**: Development release candidate

## Notes and Best Practices

### ⚠️ Important Limitations
- Does not support PEP 440 epochs (`1!`)
- Does not support local versions (`+some-custom.version-1`)
- Implicit pre-releases are not allowed
- Post-releases with pre-releases are forbidden

### 💡 Usage Tips
- Use `Version` objects for programmatic version handling
- Use `parse_version()` when working with version strings from external sources
- The tuple structure allows natural comparison operations (`v1 > v2`)
- Development versions sort before their corresponding release types

### 🔧 Integration
This module is typically used in:
- Package setup files for version management
- Build systems requiring version validation
- Applications needing semantic version comparison