<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Regex Typing Objects

## Overview

This module provides type aliases for the `regex` library, enabling better type hints and static type checking when working with regex patterns and match objects in Python code.

## Purpose

The primary purpose of this file is to create type aliases that can be used for type annotations when working with the `regex` library (an alternative to Python's built-in `re` module). This allows developers to properly type-hint functions and variables that work with regex patterns and match results.

## Type Aliases

### `Pattern`

```python
Pattern = _alias(type(regex.compile('')), 1)
```

- **Description**: Type alias for compiled regex pattern objects
- **Usage**: Use this type hint for variables or function parameters that expect a compiled regex pattern
- **Example**:
  ```python
  def search_text(pattern: Pattern, text: str) -> Match | None:
      return pattern.search(text)
  ```

### `Match`

```python
Match = _alias(type(regex.compile('').match('')), 1)
```

- **Description**: Type alias for regex match objects (or None when no match is found)
- **Usage**: Use this type hint for variables or function return values that represent match results
- **Example**:
  ```python
  def extract_groups(match: Match) -> list[str]:
      if match:
          return list(match.groups())
      return []
  ```

## Dependencies

- **`regex`**: Third-party regex library that provides enhanced regex functionality compared to the built-in `re` module
- **`typing._alias`**: Internal typing utility for creating type aliases

## Notes and Considerations

### âš ï¸ Important Notes

- **Type Ignore Comments**: The code includes `# type: ignore` comments because:
  - `regex` is a third-party library that may not have complete type stubs
  - `typing._alias` is a private/internal API that type checkers may flag

- **Private API Usage**: The use of `typing._alias` relies on internal Python typing implementation details, which could potentially change in future Python versions

### ðŸ’¡ Suggestions

1. **Consider Alternative Approaches**:
   ```python
   # Alternative using typing.TYPE_CHECKING
   from typing import TYPE_CHECKING
   
   if TYPE_CHECKING:
       from regex import Pattern, Match
   else:
       Pattern = object
       Match = object
   ```

2. **Add Generic Support**: Consider making the type aliases generic if you need to support different string types:
   ```python
   from typing import TypeVar
   
   _T = TypeVar('_T', bound=str)
   Pattern = _alias(type(regex.compile('')), 1)  # Could be Pattern[_T]
   ```

3. **Documentation**: Add docstrings to the type aliases for better IDE support:
   ```python
   Pattern = _alias(type(regex.compile('')), 1)
   """Type alias for compiled regex pattern objects."""
   
   Match = _alias(type(regex.compile('').match('')), 1)
   """Type alias for regex match objects."""
   ```

## Usage Example

```python
import regex
from your_module import Pattern, Match

def create_pattern(pattern_str: str) -> Pattern:
    """Compile a regex pattern."""
    return regex.compile(pattern_str)

def find_match(pattern: Pattern, text: str) -> Match:
    """Find a match in the given text."""
    return pattern.search(text)

# Usage
email_pattern = create_pattern(r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b')
match_result = find_match(email_pattern, "Contact us at support@example.com")
```