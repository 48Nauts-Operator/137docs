<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# ISO-8601 Parser Documentation

## Overview

This module provides a comprehensive parser for ISO-8601 date and time strings. It supports all valid date, time, and datetime formats according to the ISO-8601 specification, converting them into Python `datetime` objects.

**Added in version 2.7.0**

## Purpose

The module is designed to:
- Parse ISO-8601 formatted strings into Python datetime objects
- Handle various date formats (common and uncommon)
- Process time components with timezone information
- Provide flexible separator handling
- Ensure ASCII-only input compliance with ISO-8601 standards

## Public API

### Functions

#### `isoparse(dt_str)`
The primary function for parsing ISO-8601 strings. This is a convenience function using the default parser instance.

```python
from dateutil.parser.isoparser import isoparse

# Parse a complete datetime string
dt = isoparse("2023-12-25T15:30:45Z")
```

## Classes

### `isoparser`

The main parser class that handles ISO-8601 string parsing.

#### Constructor

```python
def __init__(self, sep=None):
```

**Parameters:**
- `sep` (str, optional): Single character separator between date and time portions
  - `None`: Accept any single character separator (default)
  - `'T'`: Strict ISO-8601 compliance

#### Key Methods

##### `isoparse(dt_str)`
Parse an ISO-8601 datetime string into a `datetime.datetime` object.

**Supported Date Formats:**
- **Common:**
  - `YYYY`
  - `YYYY-MM`
  - `YYYY-MM-DD` or `YYYYMMDD`

- **Uncommon:**
  - `YYYY-Www` or `YYYYWww` (ISO week, day defaults to 0)
  - `YYYY-Www-D` or `YYYYWwwD` (ISO week and day)

**Supported Time Formats:**
- `hh`
- `hh:mm` or `hhmm`
- `hh:mm:ss` or `hhmmss`
- `hh:mm:ss.ssssss` (up to 6 sub-second digits)

**Supported Timezone Formats:**
- `Z` (UTC)
- `±HH:MM`
- `±HHMM`
- `±HH`

##### `parse_isodate(datestr)`
Parse only the date portion of an ISO string, returning a `datetime.date` object.

##### `parse_isotime(timestr)`
Parse only the time portion of an ISO string, returning a `datetime.time` object.

##### `parse_tzstr(tzstr, zero_as_utc=True)`
Parse timezone offset strings into `dateutil.tz` objects.

## Internal Components

### Decorators

#### `@_takes_ascii`
A decorator that ensures input strings contain only ASCII characters, as required by ISO-8601 specification. It:
- Handles stream inputs by reading them completely
- Converts Unicode strings to ASCII bytes
- Raises `ValueError` for non-ASCII characters

### Private Methods

The class includes several private parsing methods:
- `_parse_isodate()`: Routes to common or uncommon date parsing
- `_parse_isodate_common()`: Handles standard YYYY-MM-DD formats
- `_parse_isodate_uncommon()`: Handles week dates and ordinal dates
- `_parse_isotime()`: Processes time components
- `_parse_tzstr()`: Handles timezone parsing
- `_calculate_weekdate()`: Converts ISO week dates to standard dates

## Usage Examples

```python
from dateutil.parser.isoparser import isoparse, isoparser

# Basic usage
dt1 = isoparse("2023-12-25T15:30:45Z")
dt2 = isoparse("20231225T153045+05:00")

# Custom separator
parser = isoparser(sep='T')  # Strict ISO-8601
dt3 = parser.isoparse("2023-12-25T15:30:45Z")

# Parse individual components
date_only = parser.parse_isodate("2023-12-25")
time_only = parser.parse_isotime("15:30:45")
tz_only = parser.parse_tzstr("+05:00")
```

## Important Notes

⚠️ **Warnings:**
- Parser strictness may change in future versions
- Only fractional seconds are supported (not fractional minutes/hours)
- Midnight can be represented as both `00:00` and `24:00`

⚠️ **Limitations:**
- Input must contain only ASCII characters
- Incomplete date formats cannot be combined with time portions
- Fractional components other than seconds are not implemented

## Dependencies

- `datetime` - Standard Python datetime handling
- `dateutil.tz` - Timezone object creation
- `calendar` - Date calculations
- `re` - Regular expression matching
- `six` - Python 2/3 compatibility