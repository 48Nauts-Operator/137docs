<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# ISO-8601 Parser Module

This module provides a comprehensive parser for ISO-8601 date, time, and datetime strings. It supports all valid formats per the ISO-8601 specification and converts them to Python `datetime` objects.

## Purpose

The module is designed to parse ISO-8601 formatted strings into Python datetime objects, handling various date formats, time formats, and timezone specifications. It provides both a class-based interface and a convenient function interface for parsing.

## Key Components

### Functions

#### `isoparse(dt_str)`
A convenience function that uses a default parser instance to parse ISO-8601 strings.

```python
from dateutil.parser import isoparse
dt = isoparse("2023-12-25T10:30:00Z")
```

### Classes

#### `isoparser`
The main parser class that handles ISO-8601 string parsing.

**Constructor:**
```python
isoparser(sep=None)
```

- **`sep`**: Optional single character separator between date and time portions
  - `None`: Accept any single character (default)
  - `'T'`: Strict ISO-8601 adherence

### Main Methods

#### `isoparse(dt_str)`
Parses a complete ISO-8601 datetime string into a `datetime.datetime` object.

**Supported Date Formats:**
- **Common formats:**
  - `YYYY` (year only)
  - `YYYY-MM` (year-month)
  - `YYYY-MM-DD` or `YYYYMMDD` (full date)

- **Uncommon formats:**
  - `YYYY-Www` or `YYYYWww` (ISO week, day defaults to Monday)
  - `YYYY-Www-D` or `YYYYWwwD` (ISO week with specific day)

**Supported Time Formats:**
- `hh` (hour only)
- `hh:mm` or `hhmm` (hour-minute)
- `hh:mm:ss` or `hhmmss` (hour-minute-second)
- `hh:mm:ss.ssssss` (with microseconds, up to 6 digits)

**Supported Timezone Formats:**
- `Z` (UTC)
- `±HH:MM` (offset with colon)
- `±HHMM` (offset without colon)
- `±HH` (hour-only offset)

#### `parse_isodate(datestr)`
Parses only the date portion of an ISO string, returning a `datetime.date` object.

#### `parse_isotime(timestr)`
Parses only the time portion of an ISO string, returning a `datetime.time` object.

#### `parse_tzstr(tzstr, zero_as_utc=True)`
Parses timezone offset strings into `dateutil.tz` timezone objects.

## Usage Examples

```python
from dateutil.parser import isoparse, isoparser

# Using the convenience function
dt1 = isoparse("2023-12-25T10:30:00Z")
dt2 = isoparse("2023-12-25T10:30:00+05:00")
dt3 = isoparse("20231225T103000")

# Using the class with strict separator
strict_parser = isoparser(sep='T')
dt4 = strict_parser.isoparse("2023-12-25T10:30:00Z")

# Parsing individual components
parser = isoparser()
date_obj = parser.parse_isodate("2023-12-25")
time_obj = parser.parse_isotime("10:30:00")
tz_obj = parser.parse_tzstr("+05:00")
```

## Special Features

### Midnight Handling
The parser supports both `00:00` and `24:00` as valid representations of midnight, following ISO-8601 standards.

### Timezone Handling
- UTC offsets equivalent to zero are represented as `dateutil.tz.tzutc`
- Other offsets are represented as `dateutil.tz.tzoffset` objects
- The `Z` indicator is converted to UTC

### ASCII Validation
The parser enforces ASCII-only input, as ISO-8601 specifications only cover ASCII characters.

## Important Notes

⚠️ **Warnings:**
- Fractional components other than seconds are part of ISO-8601 but not currently implemented
- Parser strictness should not be considered stable - valid ISO-8601 strings will continue to work, but invalid strings may change behavior in future versions

## Internal Architecture

The module uses several internal helper methods:
- `_parse_isodate()`: Handles date parsing with fallback between common and uncommon formats
- `_parse_isotime()`: Handles time component parsing
- `_parse_tzstr()`: Handles timezone offset parsing
- `_calculate_weekdate()`: Converts ISO week dates to standard dates
- `_takes_ascii()`: Decorator ensuring ASCII input validation

## Dependencies

- `datetime`: Standard library datetime handling
- `dateutil.tz`: Timezone object creation
- `calendar`: Leap year calculations
- `re`: Regular expression matching for fractional seconds
- `six`: Python 2/3 compatibility