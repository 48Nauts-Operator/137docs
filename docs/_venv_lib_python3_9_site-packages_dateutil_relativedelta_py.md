<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Relativedelta Module Documentation

## Overview

The `relativedelta` module provides a powerful way to perform date and time arithmetic in Python. It extends the functionality of Python's built-in `datetime` module by offering more flexible date manipulation capabilities, particularly for calendar-based operations like adding months or years.

## Purpose

This module is designed to:
- Add or subtract flexible time intervals to/from datetime objects
- Handle complex date arithmetic that standard `timedelta` cannot (e.g., "add 2 months")
- Support both relative and absolute date/time modifications
- Provide weekday-aware date calculations

## Main Classes and Functions

### `relativedelta` Class

The core class that represents a relative time difference or absolute date/time values.

#### Constructor

```python
relativedelta(dt1=None, dt2=None, **kwargs)
```

**Two construction modes:**

1. **Difference between two dates:**
   ```python
   relativedelta(datetime1, datetime2)
   ```

2. **Keyword arguments:**
   ```python
   relativedelta(years=1, months=2, days=3, hour=14)
   ```

#### Key Parameters

**Relative Parameters (plural forms):**
- `years`, `months`, `weeks`, `days` - Add/subtract time units
- `hours`, `minutes`, `seconds`, `microseconds` - Time components
- `leapdays` - Additional days for leap year handling

**Absolute Parameters (singular forms):**
- `year`, `month`, `day` - Set specific date values
- `hour`, `minute`, `second`, `microsecond` - Set specific time values
- `weekday` - Set to specific weekday (use MO, TU, etc.)
- `yearday`, `nlyearday` - Set day of year

#### Important Methods

##### `normalized()`
Returns a version with integer values for relative attributes.

```python
>>> relativedelta(days=1.5, hours=2).normalized()
relativedelta(days=+1, hours=+14)
```

##### Arithmetic Operations
- **Addition (`+`)**: Combine relativedelta objects or add to datetime
- **Subtraction (`-`)**: Subtract relativedelta objects
- **Multiplication (`*`)**: Scale relativedelta by numeric factor
- **Negation (`-`)**: Reverse the direction of the delta

### Weekday Constants

Pre-defined weekday objects for convenient date manipulation:

```python
MO, TU, WE, TH, FR, SA, SU
```

#### Usage Examples

```python
# Next Monday
relativedelta(weekday=MO)

# Second Tuesday of month
relativedelta(day=1, weekday=TU(2))

# Last Friday of month  
relativedelta(day=31, weekday=FR(-1))
```

## Usage Examples

### Basic Date Arithmetic

```python
from datetime import datetime
from dateutil.relativedelta import relativedelta, MO

dt = datetime(2023, 1, 15)

# Add 2 months and 3 days
new_date = dt + relativedelta(months=2, days=3)

# Set to first Monday of next month
first_monday = dt + relativedelta(months=1, day=1, weekday=MO(1))
```

### Complex Date Manipulation

```python
# Set specific date components
delta = relativedelta(year=2024, month=12, day=25)
christmas_2024 = datetime.now() + delta

# Relative adjustments
quarterly_report = datetime.now() + relativedelta(months=3, day=1)
```

### Date Differences

```python
dt1 = datetime(2023, 6, 15)
dt2 = datetime(2022, 3, 10)
diff = relativedelta(dt1, dt2)
print(f"Difference: {diff.years} years, {diff.months} months, {diff.days} days")
```

## Key Features

### Relative vs Absolute Operations

- **Relative** (plural): Performs arithmetic (`months=2` adds 2 months)
- **Absolute** (singular): Replaces values (`month=2` sets month to February)

### Application Order

When applied to a datetime, attributes are processed in this order:
1. Year
2. Month  
3. Day
4. Hours, Minutes, Seconds, Microseconds
5. Weekday adjustments

### Leap Year Handling

The `leapdays` parameter automatically adjusts for leap years when the target date is after February 28th.

## Important Notes

‚ö†Ô∏è **Warnings and Limitations:**

- Non-integer years and months raise `ValueError`
- Non-integer absolute values trigger deprecation warnings
- Month/day combinations are validated (e.g., Feb 30th is adjusted)
- Weekday calculations can be complex - test thoroughly

üí° **Best Practices:**

- Use relative forms (`months=2`) for arithmetic operations
- Use absolute forms (`month=2`) to set specific values
- Combine absolute day with weekday for "first Monday of month" patterns
- Always test edge cases like month-end dates and leap years

## Dependencies

- `datetime` - Core date/time functionality
- `calendar` - Calendar-related utilities  
- `six` - Python 2/3 compatibility
- `._common` - Internal weekday utilities

This module provides a robust foundation for complex date arithmetic that goes well beyond Python's built-in `timedelta` capabilities.