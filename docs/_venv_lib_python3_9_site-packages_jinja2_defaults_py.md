<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# Jinja2 Defaults Configuration

## Overview

This module defines the default configuration settings for the Jinja2 template engine. It serves as a centralized location for all default values used throughout the Jinja2 system, including parser/lexer settings, template syntax delimiters, built-in functions, and various policy configurations.

## Purpose

The primary purposes of this configuration file are:

- **Standardization**: Provides consistent default values across the entire Jinja2 framework
- **Customization**: Allows users to reference and potentially override default settings
- **Maintainability**: Centralizes configuration in one location for easier maintenance
- **Documentation**: Serves as a reference for available configuration options

## Configuration Categories

### Template Syntax Delimiters

These constants define the default syntax for Jinja2 templates:

```python
BLOCK_START_STRING = "{%"      # Start of control blocks ({% if %})
BLOCK_END_STRING = "%}"        # End of control blocks
VARIABLE_START_STRING = "{{"   # Start of variable expressions ({{ var }})
VARIABLE_END_STRING = "}}"     # End of variable expressions
COMMENT_START_STRING = "{#"    # Start of comments ({# comment #})
COMMENT_END_STRING = "#}"      # End of comments
```

### Parser/Lexer Options

Additional parsing configuration options:

- **`LINE_STATEMENT_PREFIX`**: Optional prefix for line-based statements (default: `None`)
- **`LINE_COMMENT_PREFIX`**: Optional prefix for line-based comments (default: `None`)
- **`TRIM_BLOCKS`**: Whether to trim newlines after block tags (default: `False`)
- **`LSTRIP_BLOCKS`**: Whether to strip leading whitespace from blocks (default: `False`)
- **`NEWLINE_SEQUENCE`**: Type of newline character to use (default: `"\n"`)
- **`KEEP_TRAILING_NEWLINE`**: Whether to preserve trailing newlines (default: `False`)

### Default Namespace

The `DEFAULT_NAMESPACE` dictionary provides built-in functions and utilities available in all templates:

```python
DEFAULT_NAMESPACE = {
    "range": range,                    # Python's range function
    "dict": dict,                      # Python's dict constructor
    "lipsum": generate_lorem_ipsum,    # Lorem ipsum text generator
    "cycler": Cycler,                  # Utility for cycling through values
    "joiner": Joiner,                  # Utility for joining strings with separators
    "namespace": Namespace,            # Object for creating template namespaces
}
```

#### Key Utilities

- **`Cycler`**: Helps cycle through a list of values in templates
- **`Joiner`**: Provides intelligent string joining with customizable separators
- **`Namespace`**: Creates objects that can hold arbitrary attributes for template use
- **`generate_lorem_ipsum`**: Generates placeholder text for templates

### Default Policies

The `DEFAULT_POLICIES` dictionary contains various behavioral settings:

```python
DEFAULT_POLICIES = {
    "compiler.ascii_str": True,                    # Use ASCII strings in compiler
    "urlize.rel": "noopener",                     # Default rel attribute for links
    "urlize.target": None,                        # Default target for links
    "urlize.extra_schemes": None,                 # Additional URL schemes to recognize
    "truncate.leeway": 5,                         # Extra characters allowed in truncation
    "json.dumps_function": None,                  # Custom JSON serialization function
    "json.dumps_kwargs": {"sort_keys": True},     # Arguments for JSON serialization
    "ext.i18n.trimmed": False,                    # Trim whitespace in i18n extension
}
```

## Imported Components

The module also imports and re-exports default filters and tests:

- **`DEFAULT_FILTERS`**: Collection of built-in template filters
- **`DEFAULT_TESTS`**: Collection of built-in template tests

## Usage Notes

### Important Considerations

- These defaults are used when creating new Jinja2 environments
- Most settings can be overridden when instantiating a Jinja2 `Environment`
- Changes to these defaults affect all new Jinja2 environments using default settings
- The `TYPE_CHECKING` block ensures proper type hints without runtime dependencies

### Customization Example

```python
from jinja2 import Environment
from jinja2.defaults import DEFAULT_NAMESPACE

# Create environment with custom settings
env = Environment(
    block_start_string='<%',
    block_end_string='%>',
    variable_start_string='<<',
    variable_end_string='>>',
    trim_blocks=True,
    lstrip_blocks=True
)
```

## Dependencies

- **Internal**: Imports utilities, filters, and tests from other Jinja2 modules
- **External**: Uses `typing` for type annotations and conditional `typing_extensions` import

This configuration file is essential for understanding Jinja2's default behavior and serves as the foundation for template engine customization.