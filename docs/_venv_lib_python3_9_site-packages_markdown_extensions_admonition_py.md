<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# Admonition Extension for Python-Markdown

## Overview

This module provides an extension for Python-Markdown that adds support for reStructuredText (rST) style admonitions. Admonitions are special blocks used to call attention to important information, such as notes, warnings, tips, or other callout content.

## Purpose

The extension allows users to create visually distinct content blocks using a simple syntax, making it easier to highlight important information in Markdown documents. This is particularly useful for technical documentation, tutorials, and guides.

## Syntax

Admonitions use the following syntax:

```markdown
!!! type "optional title"
    Content of the admonition goes here.
    This content is indented.
```

### Examples

```markdown
!!! note
    This is a note admonition with default title.

!!! warning "Custom Warning Title"
    This is a warning with a custom title.

!!! tip ""
    This is a tip with no title (empty string).
```

## Classes and Functions

### `AdmonitionExtension`

The main extension class that integrates the admonition functionality into Python-Markdown.

#### Methods

- **`extendMarkdown(md)`**: Registers the extension and adds the `AdmonitionProcessor` to the block processors with priority 105.

### `AdmonitionProcessor`

The core processor that handles parsing and rendering of admonition blocks.

#### Key Attributes

- **`CLASSNAME`**: `'admonition'` - Base CSS class for admonition blocks
- **`CLASSNAME_TITLE`**: `'admonition-title'` - CSS class for admonition titles
- **`RE`**: Regular expression pattern to match admonition syntax: `!!! type "title"`
- **`RE_SPACES`**: Pattern to normalize multiple spaces in class names

#### Key Methods

- **`test(parent, block)`**: Determines if a block should be processed as an admonition
- **`run(parent, blocks)`**: Main processing method that converts markdown to HTML elements
- **`parse_content(parent, block)`**: Handles continuation of admonition content across multiple blocks
- **`get_class_and_title(match)`**: Extracts CSS class and title from the regex match

### `makeExtension(**kwargs)`

Factory function to create an instance of the `AdmonitionExtension`.

## HTML Output

The extension generates HTML with the following structure:

```html
<div class="admonition note">
    <p class="admonition-title">Note</p>
    <p>Content of the admonition.</p>
</div>
```

## Implementation Notes

### Content Parsing

- The processor handles multi-line content by detecting proper indentation
- Supports nested content including lists and other block elements
- Manages complex scenarios where admonitions contain lists or are nested within lists

### Title Handling

- **Default behavior**: If no title is provided, the admonition type is capitalized and used as the title
- **Custom title**: Specified in quotes after the admonition type
- **No title**: Use empty quotes `""` to suppress the title completely

### CSS Classes

- The main div receives classes: `admonition` + the specified type (e.g., `admonition note`)
- Multiple words in the type are normalized (multiple spaces become single spaces)
- Title paragraphs receive the `admonition-title` class

## Usage

To use this extension:

```python
import markdown

# Create markdown instance with admonition extension
md = markdown.Markdown(extensions=['admonition'])

# Convert markdown text
html = md.convert(markdown_text)
```

## Dependencies

- **Python-Markdown**: Core markdown processing
- **xml.etree.ElementTree**: HTML element creation and manipulation
- **re**: Regular expression pattern matching

## Notes and Suggestions

1. **CSS Styling**: This extension only generates the HTML structure. You'll need to add CSS styles to make admonitions visually appealing.

2. **Indentation**: Proper indentation (4 spaces or 1 tab) is crucial for multi-line admonition content.

3. **Priority**: The processor runs at priority 105, ensuring it processes before most other block processors.

4. **Extensibility**: The class names and patterns can be customized by subclassing if needed.

5. **Performance**: The regex patterns are compiled once for efficiency during processing.