<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Definition List Extension for Python-Markdown

## Overview

This module provides an extension for Python-Markdown that adds support for parsing definition lists. Definition lists are a way to associate terms with their definitions, similar to dictionary entries or glossaries.

## Purpose

The extension enables Markdown to recognize and convert definition list syntax into proper HTML `<dl>`, `<dt>`, and `<dd>` elements:
- `<dl>` - Definition List container
- `<dt>` - Definition Term
- `<dd>` - Definition Description

## Main Classes

### `DefListProcessor(BlockProcessor)`

The core processor that handles the parsing of definition lists.

#### Key Attributes
- **`RE`**: Regex pattern that matches definition list items (lines starting with `:` followed by 1-3 spaces)
- **`NO_INDENT_RE`**: Regex pattern to detect lines without proper indentation

#### Methods

##### `test(parent, block)`
```python
def test(self, parent: etree.Element, block: str) -> bool:
```
- **Purpose**: Determines if the current block contains definition list syntax
- **Returns**: `True` if the block matches definition list pattern

##### `run(parent, blocks)`
```python
def run(self, parent: etree.Element, blocks: list[str]) -> bool | None:
```
- **Purpose**: Processes the definition list block and creates appropriate XML elements
- **Key Logic**:
  - Extracts terms from lines before the definition marker
  - Handles both new lists and additions to existing lists
  - Manages list states ('list' vs 'looselist')
  - Creates `<dt>` elements for terms and `<dd>` elements for definitions

### `DefListIndentProcessor(ListIndentProcessor)`

Handles indented children within definition list items.

#### Key Attributes
- **`ITEM_TYPES`**: `['dd', 'li']` - Includes definition descriptions in list item types
- **`LIST_TYPES`**: `['dl', 'ol', 'ul']` - Includes definition lists in recognized list types

#### Methods

##### `create_item(parent, block)`
```python
def create_item(self, parent: etree.Element, block: str) -> None:
```
- **Purpose**: Creates new `<dd>` elements and parses nested content

### `DefListExtension(Extension)`

The main extension class that integrates the processors with Python-Markdown.

#### Methods

##### `extendMarkdown(md)`
```python
def extendMarkdown(self, md):
```
- **Purpose**: Registers the definition list processors with the Markdown parser
- **Registration Order**:
  - `DefListIndentProcessor` at priority 85 (named 'defindent')
  - `DefListProcessor` at priority 25 (named 'deflist')

## Usage

### Installation
```python
# Import and use the extension
from markdown.extensions.def_list import DefListExtension

# Or use the factory function
from markdown.extensions.def_list import makeExtension
extension = makeExtension()
```

### Markdown Syntax Example
```markdown
Term 1
Term 2
:   Definition for terms 1 and 2

Another Term
:   Another definition
    
    This definition has multiple paragraphs.
```

## Technical Notes

- **Priority Values**: The processors are registered with specific priorities to ensure proper parsing order
- **State Management**: The processor manages different states ('list' vs 'looselist') to handle spacing correctly
- **Indentation Handling**: Uses the `detab` method to properly handle indented content
- **Sibling Detection**: Intelligently detects existing definition lists to append new items

## Suggestions for Users

1. **Proper Syntax**: Ensure definition markers (`:`) are followed by 1-3 spaces
2. **Indentation**: Be consistent with indentation for multi-line definitions
3. **Multiple Terms**: Multiple terms can share the same definition by placing them on consecutive lines before the definition marker

## Links

- [Official Documentation](https://Python-Markdown.github.io/extensions/definition_lists)
- [BSD License](https://opensource.org/licenses/bsd-license.php)