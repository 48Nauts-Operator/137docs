<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Meta Data Extension for Python-Markdown

## Overview

This Python-Markdown extension adds metadata handling functionality to Markdown documents. It allows users to include structured metadata at the beginning of their Markdown files, which can be parsed and accessed programmatically.

## Purpose

The Meta Data extension enables:
- Parsing of YAML-style metadata headers in Markdown documents
- Storage of metadata in the Markdown processor instance
- Support for both single-line and multi-line metadata values
- Integration with the Python-Markdown preprocessing pipeline

## Key Components

### Classes

#### `MetaExtension`
The main extension class that integrates metadata processing into Python-Markdown.

**Key Methods:**
- `extendMarkdown(md)`: Registers the extension and adds the MetaPreprocessor to the Markdown instance
- `reset()`: Clears stored metadata, resetting `md.Meta` to an empty dictionary

#### `MetaPreprocessor`
Handles the actual parsing of metadata from Markdown text.

**Key Methods:**
- `run(lines)`: Processes the input lines and extracts metadata

### Regular Expressions

The extension uses several regex patterns for parsing:

```python
META_RE = re.compile(r'^[ ]{0,3}(?P<key>[A-Za-z0-9_-]+):\s*(?P<value>.*)')
META_MORE_RE = re.compile(r'^[ ]{4,}(?P<value>.*)')
BEGIN_RE = re.compile(r'^-{3}(\s.*)?')
END_RE = re.compile(r'^(-{3}|\.{3})(\s.*)?')
```

- **`META_RE`**: Matches key-value pairs (e.g., `title: My Document`)
- **`META_MORE_RE`**: Matches continuation lines (indented with 4+ spaces)
- **`BEGIN_RE`**: Matches YAML front matter start delimiter (`---`)
- **`END_RE`**: Matches end delimiters (`---` or `...`)

## Usage Example

### Input Markdown:
```markdown
---
title: My Document
author: John Doe
tags: python
      markdown
      documentation
---

# Main Content

This is the actual document content.
```

### Accessing Metadata:
```python
import markdown

md = markdown.Markdown(extensions=['meta'])
html = md.convert(markdown_text)

# Access metadata
print(md.Meta['title'])    # ['My Document']
print(md.Meta['author'])   # ['John Doe']
print(md.Meta['tags'])     # ['python', 'markdown', 'documentation']
```

## Important Notes

### Data Structure
- All metadata values are stored as **lists**, even single values
- Keys are automatically converted to lowercase
- Metadata is accessible via `md.Meta` dictionary

### Parsing Behavior
- Metadata must appear at the beginning of the document
- Optional YAML-style delimiters (`---`) are supported
- Multi-line values can be created using 4+ space indentation
- Processing stops at blank lines or end delimiters

### Integration
- The preprocessor runs with priority `27` in the preprocessing pipeline
- The extension automatically registers itself with the Markdown instance

## Limitations and Considerations

⚠️ **Important Limitations:**
- No validation of metadata format or values
- Limited error handling for malformed metadata
- All values stored as strings in lists
- No support for complex YAML features (nested objects, arrays, etc.)

## Installation

This extension is part of the standard Python-Markdown library. Enable it by including `'meta'` in your extensions list:

```python
md = markdown.Markdown(extensions=['meta'])
```

## Related Documentation

For comprehensive documentation and examples, visit: [Python-Markdown Meta Data Extension](https://Python-Markdown.github.io/extensions/meta_data)