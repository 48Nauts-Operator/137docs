<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# MkDocs Project Generator Module

## Overview

This Python module provides functionality to create new MkDocs documentation projects. It generates the basic project structure including configuration files and initial documentation content.

## Purpose

The module serves as a project scaffolding tool for MkDocs, automatically creating:
- Project directory structure
- Basic configuration file (`mkdocs.yml`)
- Initial documentation homepage (`docs/index.md`)

## Components

### Constants

#### `config_text`
```python
config_text = 'site_name: My Docs\n'
```
- Contains the default MkDocs configuration
- Sets the site name to "My Docs"
- Written to `mkdocs.yml` when creating new projects

#### `index_text`
```python
index_text = """# Welcome to MkDocs
...
"""
```
- Contains the default homepage content in Markdown format
- Includes basic MkDocs commands and project structure information
- Written to `docs/index.md` as the initial documentation page

### Functions

#### `new(output_dir: str) -> None`

Creates a new MkDocs project in the specified directory.

**Parameters:**
- `output_dir` (str): The target directory where the project will be created

**Behavior:**
1. Checks if project already exists (looks for `mkdocs.yml`)
2. Creates output directory if it doesn't exist
3. Generates `mkdocs.yml` configuration file
4. Creates `docs/` subdirectory
5. Generates initial `docs/index.md` file

**File Structure Created:**
```
output_dir/
├── mkdocs.yml      # Configuration file
└── docs/
    └── index.md    # Homepage documentation
```

## Logging

The module uses Python's built-in logging system:
```python
log = logging.getLogger(__name__)
```

Log messages include:
- Info when project already exists
- Info when creating directories
- Info when writing configuration and documentation files

## Usage Example

```python
from mkdocs_generator import new

# Create a new project in 'my-docs' directory
new('my-docs')
```

## Notes and Suggestions

### Current Limitations
- **Fixed Configuration**: The default configuration only sets `site_name` - consider making this more configurable
- **No Error Handling**: File operations lack try-catch blocks for potential IO errors
- **Limited Customization**: Template content is hardcoded

### Recommended Improvements

1. **Add Error Handling**:
   ```python
   try:
       with open(config_path, 'w', encoding='utf-8') as f:
           f.write(config_text)
   except IOError as e:
       log.error(f"Failed to write config file: {e}")
       raise
   ```

2. **Make Configuration Configurable**:
   - Accept additional parameters for site name, theme, etc.
   - Support custom template files

3. **Add Validation**:
   - Validate directory names
   - Check write permissions before creating files

4. **Enhanced Logging**:
   - Add debug-level logging for more detailed operation tracking
   - Include error logging for failure cases

## Dependencies

- `logging`: For operation logging
- `os`: For file system operations
- `__future__.annotations`: For forward-compatible type hints