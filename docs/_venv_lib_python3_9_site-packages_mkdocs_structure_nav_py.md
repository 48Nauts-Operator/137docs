<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# MkDocs Navigation Module Documentation

## Overview

This module defines the navigation structure for MkDocs sites. It provides classes and functions to build and manage the hierarchical navigation structure, including pages, sections, and external links. The navigation system supports nested structures and maintains relationships between pages for navigation purposes.

## Purpose

- Build site navigation from configuration and files
- Provide hierarchical navigation structure with sections, pages, and links
- Maintain page relationships (previous/next, parent/child)
- Handle external links and missing page references
- Support automatic navigation generation when no explicit nav config is provided

## Classes

### Navigation

The main navigation container that holds the complete site navigation structure.

```python
class Navigation:
    def __init__(self, items: list, pages: list[Page]) -> None:
```

**Attributes:**
- `items`: Nested list containing the full navigation hierarchy (sections, pages, links)
- `pages`: Flat list of all pages in navigation order
- `homepage`: The designated homepage of the site (if any)

**Methods:**
- `__str__()`: Returns formatted string representation of navigation structure
- `__iter__()`: Allows iteration over navigation items
- `__len__()`: Returns number of top-level navigation items

### Section

Represents a navigation section that can contain child items (pages, links, or nested sections).

```python
class Section(StructureItem):
    def __init__(self, title: str, children: list[StructureItem]) -> None:
```

**Key Attributes:**
- `title`: Display title of the section
- `children`: List of child navigation items
- `active`: Boolean indicating if section contains the current page
- `is_section`: Always `True` for section objects
- `is_page`: Always `False` for section objects  
- `is_link`: Always `False` for section objects

**Special Behavior:**
- Setting `active = True` automatically propagates to parent sections
- Supports nested hierarchy through the `children` attribute

### Link

Represents external links in the navigation structure.

```python
class Link(StructureItem):
    def __init__(self, title: str, url: str):
```

**Key Attributes:**
- `title`: Display text for the link
- `url`: Target URL (should be absolute)
- `children`: Always `None` (links cannot have children)
- `active`: Always `False` (external links cannot be active)
- `is_section`: Always `False` for link objects
- `is_page`: Always `False` for link objects
- `is_link`: Always `True` for link objects

## Key Functions

### get_navigation()

Main function that builds the complete navigation structure from files and configuration.

```python
def get_navigation(files: Files, config: MkDocsConfig) -> Navigation:
```

**Process:**
1. Retrieves documentation pages from files
2. Processes navigation configuration (or generates automatic nav if none provided)
3. Converts configuration data to navigation objects
4. Establishes page relationships (previous/next, parent/child)
5. Handles missing pages and validates links
6. Returns complete `Navigation` object

**Features:**
- Automatic navigation generation when `nav` config is `None`
- Creates pages for documentation files not in navigation
- Validates external and absolute links
- Logs warnings for missing or excluded files

### _data_to_navigation()

Recursive function that converts navigation configuration data into navigation objects.

```python
def _data_to_navigation(data, files: Files, config: MkDocsConfig):
```

**Handles:**
- Dictionary structures → Sections with children
- List structures → Multiple navigation items
- String/tuple data → Pages or Links
- Absolute path handling based on configuration

## Utility Functions

### _get_by_type()

Generic function to extract all items of a specific type from the navigation tree.

```python
def _get_by_type(nav, t: type[T]) -> list[T]:
```

### _add_parent_links()

Establishes parent-child relationships in the navigation hierarchy.

```python
def _add_parent_links(nav) -> None:
```

### _add_previous_and_next_links()

Creates sequential navigation links between pages.

```python
def _add_previous_and_next_links(pages: list[Page]) -> None:
```

## Usage Notes

### Configuration Handling
- If no `nav` configuration is provided, navigation is automatically generated from file structure
- Files are sorted using `file_sort_key` for consistent ordering
- Nested paths are automatically structured into sections

### Validation and Logging
- Missing files referenced in navigation are logged as warnings
- External links are validated and logged
- Absolute paths are handled according to validation settings
- Excluded files referenced in navigation trigger appropriate log messages

### Navigation Structure
The navigation supports three types of items:
- **Pages**: Documentation files that will be rendered
- **Sections**: Containers that group related items
- **Links**: External URLs or references

## Best Practices

### Navigation Configuration
```yaml
nav:
  - Home: index.md
  - User Guide:
    - Installation: user-guide/installation.md
    - Configuration: user-guide/configuration.md
  - API Reference: api/
  - External Link: https://example.com
```

### Error Handling
- Always check for `BuildError` when plugins modify `File.page`
- Handle cases where navigation items may not correspond to actual files
- Use appropriate logging levels for different types of validation issues

## Dependencies

- `mkdocs.structure.pages.Page`
- `mkdocs.structure.files.Files`
- `mkdocs.config.defaults.MkDocsConfig`
- `mkdocs.structure.StructureItem`
- `mkdocs.utils.nest_paths`