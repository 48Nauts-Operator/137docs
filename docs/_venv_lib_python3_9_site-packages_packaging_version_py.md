<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# packaging.version - Python Version Handling

## Overview

This module provides version parsing and comparison functionality for Python packages, implementing PEP 440 (Python Package Versioning) standards. It allows you to parse, compare, and manipulate version strings in a consistent and standardized way.

## Purpose

- Parse version strings into structured objects
- Compare versions using standard Python comparison operators
- Normalize version strings according to PEP 440
- Handle complex version schemes including pre-releases, post-releases, development releases, and local versions

## Key Components

### Public API

#### Functions

##### `parse(version: str) -> Version`
Convenience function to parse a version string.

```python
from packaging.version import parse

version = parse('1.0.dev1')
print(version)  # <Version('1.0.dev1')>
```

**Parameters:**
- `version`: The version string to parse

**Raises:**
- `InvalidVersion`: When the version string is not valid

#### Classes

##### `Version`
Main class for handling version objects with full PEP 440 compliance.

```python
from packaging.version import Version

v1 = Version("1.0a5")
v2 = Version("1.0")
print(v1 < v2)  # True
```

**Key Features:**
- Full comparison support (`<`, `<=`, `==`, `>=`, `>`, `!=`)
- Hash support for use in sets and dictionaries
- String representation that can be round-tripped

**Properties:**

- **`epoch`** (`int`): The epoch of the version (default: 0)
- **`release`** (`tuple[int, ...]`): Release components (e.g., `(1, 2, 3)` for "1.2.3")
- **`pre`** (`tuple[str, int] | None`): Pre-release info (e.g., `('a', 1)` for "a1")
- **`post`** (`int | None`): Post-release number
- **`dev`** (`int | None`): Development release number
- **`local`** (`str | None`): Local version segment
- **`public`** (`str`): Public portion (excludes local segment)
- **`base_version`** (`str`): Base version (excludes pre/post/dev/local)
- **`major`** (`int`): First release component
- **`minor`** (`int`): Second release component  
- **`micro`** (`int`): Third release component
- **`is_prerelease`** (`bool`): Whether this is a pre-release
- **`is_postrelease`** (`bool`): Whether this is a post-release
- **`is_devrelease`** (`bool`): Whether this is a development release

##### `InvalidVersion`
Exception raised when a version string cannot be parsed.

```python
try:
    Version("invalid")
except InvalidVersion as e:
    print(f"Error: {e}")
```

### Constants

#### `VERSION_PATTERN`
Regular expression pattern for matching valid version strings. Use with `re.VERBOSE | re.IGNORECASE` flags.

```python
import re
from packaging.version import VERSION_PATTERN

pattern = re.compile(VERSION_PATTERN, re.VERBOSE | re.IGNORECASE)
```

## Usage Examples

### Basic Version Parsing

```python
from packaging.version import Version, parse

# Using the Version class directly
v1 = Version("1.2.3")
v2 = Version("1.2.4.dev1")

# Using the parse function
v3 = parse("2.0.0a1")

print(f"v1: {v1}")           # v1: 1.2.3
print(f"v2: {v2}")           # v2: 1.2.4.dev1  
print(f"v3: {v3}")           # v3: 2.0.0a1
```

### Version Comparison

```python
versions = [
    Version("1.0.dev1"),
    Version("1.0a1"), 
    Version("1.0a2"),
    Version("1.0"),
    Version("1.0.post1"),
    Version("2.0")
]

# Sort versions
sorted_versions = sorted(versions)
for v in sorted_versions:
    print(v)
# Output:
# 1.0.dev1
# 1.0a1  
# 1.0a2
# 1.0
# 1.0.post1
# 2.0
```

### Accessing Version Components

```python
v = Version("2!1.2.3.post1.dev4+local.version")

print(f"Epoch: {v.epoch}")                    # Epoch: 2
print(f"Release: {v.release}")                # Release: (1, 2, 3)
print(f"Post: {v.post}")                      # Post: 1
print(f"Dev: {v.dev}")                        # Dev: 4
print(f"Local: {v.local}")                    # Local: local.version
print(f"Public: {v.public}")                  # Public: 2!1.2.3.post1.dev4
print(f"Base: {v.base_version}")              # Base: 2!1.2.3
print(f"Major.Minor.Micro: {v.major}.{v.minor}.{v.micro}")  # Major.Minor.Micro: 1.2.3
```

## Implementation Notes

### Internal Structure

- **`_BaseVersion`**: Base class providing comparison operators
- **`_Version`**: Named tuple storing parsed version components
- **`_TrimmedRelease`**: Variant that removes trailing zeros from release tuples

### Version Parsing

The module uses a comprehensive regex pattern to parse:
- **Epoch**: Optional number followed by `!` (e.g., `1!`)
- **Release**: Dot-separated numbers (e.g., `1.2.3`)
- **Pre-release**: Alpha/beta/rc indicators (e.g., `a1`, `beta2`, `rc1`)
- **Post-release**: Post-release indicators (e.g., `.post1`,