<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# requests.exceptions Module Documentation

## Overview

The `requests.exceptions` module defines the complete exception hierarchy for the Requests HTTP library. This module provides specialized exception classes that help developers handle different types of errors that can occur during HTTP requests, from connection issues to data parsing problems.

## Purpose

This module serves to:
- Provide specific exception types for different HTTP-related error scenarios
- Enable precise error handling in applications using the Requests library
- Maintain compatibility with standard Python exceptions and urllib3
- Offer a clear hierarchy of exceptions for better error categorization

## Exception Hierarchy

### Base Exception

#### `RequestException(IOError)`
The root exception class for all Requests-related errors.

**Key Features:**
- Inherits from `IOError` for compatibility with standard Python exception handling
- Automatically captures and stores `request` and `response` objects when available
- Provides context for debugging failed requests

```python
def __init__(self, *args, **kwargs):
    response = kwargs.pop("response", None)
    self.response = response
    self.request = kwargs.pop("request", None)
    # Auto-extract request from response if available
    if response is not None and not self.request and hasattr(response, "request"):
        self.request = self.response.request
```

### JSON-Related Exceptions

#### `InvalidJSONError(RequestException)`
- **Purpose:** Generic JSON processing error
- **Use Case:** When JSON-related operations fail

#### `JSONDecodeError(InvalidJSONError, CompatJSONDecodeError)`
- **Purpose:** Specific JSON decoding failures
- **Special Features:** 
  - Multiple inheritance for compatibility
  - Custom `__reduce__` method for proper pickling support
  - Preserves original JSON error messages

### HTTP and Connection Exceptions

#### `HTTPError(RequestException)`
- **Purpose:** General HTTP protocol errors
- **Use Case:** When HTTP status codes indicate errors

#### `ConnectionError(RequestException)`
- **Purpose:** Network connection failures
- **Use Case:** When requests cannot establish connections

#### `ProxyError(ConnectionError)`
- **Purpose:** Proxy-specific connection issues
- **Inheritance:** Specialized form of connection error

#### `SSLError(ConnectionError)`
- **Purpose:** SSL/TLS certificate and handshake errors
- **Use Case:** HTTPS connection security issues

### Timeout Exceptions

#### `Timeout(RequestException)`
- **Purpose:** Base class for all timeout-related errors
- **Note:** Catching this exception will catch both `ConnectTimeout` and `ReadTimeout`

#### `ConnectTimeout(ConnectionError, Timeout)`
- **Purpose:** Connection establishment timeouts
- **Safety:** Requests that produce this error are safe to retry
- **Multiple Inheritance:** Both connection and timeout error

#### `ReadTimeout(Timeout)`
- **Purpose:** Server response timeouts
- **Use Case:** When server doesn't send data within allotted time

### URL and Request Validation Exceptions

#### `URLRequired(RequestException)`
- **Purpose:** Missing URL in request

#### `TooManyRedirects(RequestException)`
- **Purpose:** Exceeded maximum redirect limit

#### `MissingSchema(RequestException, ValueError)`
- **Purpose:** URL missing scheme (http/https)
- **Multiple Inheritance:** Both request and value error

#### `InvalidSchema(RequestException, ValueError)`
- **Purpose:** Unsupported or malformed URL scheme

#### `InvalidURL(RequestException, ValueError)`
- **Purpose:** Malformed or invalid URLs

#### `InvalidHeader(RequestException, ValueError)`
- **Purpose:** Invalid HTTP header values

#### `InvalidProxyURL(InvalidURL)`
- **Purpose:** Specifically for invalid proxy URLs

### Content Processing Exceptions

#### `ChunkedEncodingError(RequestException)`
- **Purpose:** Invalid chunked transfer encoding

#### `ContentDecodingError(RequestException, BaseHTTPError)`
- **Purpose:** Response content decoding failures
- **Inheritance:** Compatible with urllib3 HTTP errors

#### `StreamConsumedError(RequestException, TypeError)`
- **Purpose:** Attempting to read already consumed response streams

### Request Processing Exceptions

#### `RetryError(RequestException)`
- **Purpose:** Custom retry logic failures

#### `UnrewindableBodyError(RequestException)`
- **Purpose:** Cannot rewind request body for retries

## Warning Classes

#### `RequestsWarning(Warning)`
- **Purpose:** Base warning class for Requests library

#### `FileModeWarning(RequestsWarning, DeprecationWarning)`
- **Purpose:** File opened in text mode when binary expected

#### `RequestsDependencyWarning(RequestsWarning)`
- **Purpose:** Dependency version mismatches

## Usage Examples

```python
import requests
from requests.exceptions import ConnectionError, Timeout, HTTPError

try:
    response = requests.get('https://api.example.com/data', timeout=5)
    response.raise_for_status()
except ConnectionError:
    print("Failed to connect to the server")
except Timeout:
    print("Request timed out")
except HTTPError as e:
    print(f"HTTP error occurred: {e}")
    print(f"Response status: {e.response.status_code}")
except requests.exceptions.RequestException as e:
    print(f"An error occurred: {e}")
```

## Notes and Suggestions

### Best Practices
- **Specific Exception Handling:** Catch specific exceptions rather than the base `RequestException` when possible
- **Access Context:** Use the `request` and `response` attributes attached to exceptions for debugging
- **Retry Logic:** `ConnectTimeout` errors are generally safe to retry, while other timeouts may not be

### Important Considerations
- **Multiple Inheritance:** Several exceptions inherit from multiple base classes for compatibility
- **Pickling Support:** `JSONDecodeError` has special handling for serialization
- **Hierarchy Design:** The exception hierarchy is designed to allow both specific and general error handling

### Dependencies
- Imports from `pip._vendor.urllib3.exceptions` for HTTP error compatibility
- Uses compatibility layer for JSON decode errors across Python versions