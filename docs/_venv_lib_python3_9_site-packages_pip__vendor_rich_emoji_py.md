<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# Emoji Module Documentation

## Overview

This module provides functionality for handling and rendering emoji in the Rich console library. It enables the use of emoji characters by name (e.g., `:smiley:`) and provides utilities for replacing emoji markup with actual Unicode characters.

## Purpose

- **Emoji Rendering**: Convert emoji names to Unicode characters for console display
- **Text Processing**: Replace emoji markup in strings with actual emoji characters
- **Style Support**: Apply styling to emoji characters when rendering
- **Variant Support**: Handle different emoji variants (text vs emoji presentation)

## Classes

### `NoEmoji`

```python
class NoEmoji(Exception):
    """No emoji by that name."""
```

Custom exception raised when attempting to create an emoji with a name that doesn't exist in the emoji database.

### `Emoji`

The main class for representing and rendering emoji characters.

#### Attributes

- `name` (str): The name of the emoji
- `style` (Union[str, Style]): Optional styling to apply
- `variant` (Optional[EmojiVariant]): Emoji variant ("text" or "emoji")
- `_char` (str): The actual Unicode character(s)

#### Constructor

```python
def __init__(
    self,
    name: str,
    style: Union[str, Style] = "none",
    variant: Optional[EmojiVariant] = None,
) -> None:
```

**Parameters:**
- `name`: The emoji name (without colons, e.g., "smiley")
- `style`: Optional style to apply to the emoji
- `variant`: Optional variant selector ("text" or "emoji")

**Raises:**
- `NoEmoji`: If the specified emoji name doesn't exist

#### Key Methods

##### `replace(text: str) -> str` (Class Method)

```python
@classmethod
def replace(cls, text: str) -> str:
```

Replaces emoji markup in text with actual Unicode characters.

**Example:**
```python
text = "Hello :smiley:! How are you :wave:?"
result = Emoji.replace(text)  # "Hello üòÄ! How are you üëã?"
```

##### Special Methods

- `__str__()`: Returns the Unicode emoji character
- `__repr__()`: Returns a string representation for debugging
- `__rich_console__()`: Handles rendering in Rich console with styling

## Constants

### `EmojiVariant`

```python
EmojiVariant = Literal["emoji", "text"]
```

Type hint for emoji variant options.

### `VARIANTS`

```python
VARIANTS = {"text": "\uFE0E", "emoji": "\uFE0F"}
```

Unicode variation selectors for controlling emoji presentation:
- `\uFE0E`: Text presentation (monochrome)
- `\uFE0F`: Emoji presentation (colorful)

## Usage Examples

### Basic Usage

```python
from rich.emoji import Emoji

# Create an emoji
smile = Emoji("smiley")
print(smile)  # üòÄ

# With styling
styled_emoji = Emoji("heart", style="red bold")

# With variant
text_emoji = Emoji("thumbs_up", variant="text")
```

### Text Replacement

```python
from rich.emoji import Emoji

text = "Great job :thumbs_up:! Keep it up :muscle:!"
converted = Emoji.replace(text)
print(converted)  # "Great job üëç! Keep it up üí™!"
```

## Dependencies

- **Internal**: `JupyterMixin`, `Segment`, `Style`
- **External**: `_emoji_codes.EMOJI`, `_emoji_replace._emoji_replace`
- **Type Checking**: Console-related types for rendering

## Notes and Suggestions

### Important Notes

- The module uses `__slots__` for memory efficiency
- Emoji names should be provided without colons (the `replace` method handles `:name:` format)
- The actual emoji database is imported from `_emoji_codes.EMOJI`

### Best Practices

- Always handle `NoEmoji` exceptions when creating emoji with user-provided names
- Use the `replace` class method for bulk text processing with multiple emoji
- Consider emoji variants for better cross-platform compatibility

### Potential Improvements

- Add emoji search functionality by keywords or categories
- Implement emoji skin tone modifier support
- Add validation for emoji variant combinations
- Consider caching for frequently used emoji instances

## Command Line Usage

When run as a script, the module displays all available emoji in a columnar format:

```bash
python -m rich.emoji [output.html]
```

This generates a visual reference of all supported emoji, optionally saving to an HTML file.