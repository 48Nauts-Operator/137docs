<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# Pretty Printing Module Documentation

## Overview

This module provides advanced pretty printing functionality for Python objects, extending the standard `repr()` output with rich formatting, syntax highlighting, and intelligent layout. It's part of the Rich library and offers both programmatic and interactive pretty printing capabilities.

## Purpose

The module serves several key purposes:

- **Enhanced Object Representation**: Creates visually appealing, readable representations of complex Python objects
- **Intelligent Formatting**: Automatically expands or contracts output based on available width
- **REPL Integration**: Can replace the default Python REPL display hook for automatic pretty printing
- **Jupyter Support**: Provides enhanced output formatting in Jupyter notebooks
- **Customizable Output**: Offers extensive configuration options for different display needs

## Main Classes

### `Pretty`

The primary class for rendering pretty-printed representations of objects.

```python
Pretty(
    _object: Any,
    highlighter: Optional[HighlighterType] = None,
    indent_size: int = 4,
    justify: Optional[JustifyMethod] = None,
    overflow: Optional[OverflowMethod] = None,
    no_wrap: Optional[bool] = False,
    indent_guides: bool = False,
    max_length: Optional[int] = None,
    max_string: Optional[int] = None,
    max_depth: Optional[int] = None,
    expand_all: bool = False,
    margin: int = 0,
    insert_line: bool = False,
)
```

**Key Parameters:**
- `_object`: The object to pretty print
- `indent_size`: Number of spaces for indentation (default: 4)
- `indent_guides`: Show visual indentation guides
- `max_length`: Maximum container length before abbreviation
- `max_string`: Maximum string length before truncation
- `max_depth`: Maximum nesting depth to display
- `expand_all`: Force expansion of all containers

### `Node`

Represents a node in the object traversal tree, used internally for building the pretty representation.

```python
@dataclass
class Node:
    key_repr: str = ""
    value_repr: str = ""
    open_brace: str = ""
    close_brace: str = ""
    empty: str = ""
    last: bool = False
    is_tuple: bool = False
    is_namedtuple: bool = False
    children: Optional[List["Node"]] = None
```

## Key Functions

### `install()`

Installs automatic pretty printing in the Python REPL or Jupyter environment.

```python
install(
    console: Optional[Console] = None,
    overflow: OverflowMethod = "ignore",
    crop: bool = False,
    indent_guides: bool = False,
    max_length: Optional[int] = None,
    max_string: Optional[int] = None,
    max_depth: Optional[int] = None,
    expand_all: bool = False,
) -> None
```

**Usage:**
```python
from rich.pretty import install
install()  # Now all REPL output will be pretty printed
```

### `pprint()`

Convenience function for pretty printing objects directly to the console.

```python
pprint(
    _object: Any,
    console: Optional[Console] = None,
    indent_guides: bool = True,
    max_length: Optional[int] = None,
    max_string: Optional[int] = None,
    max_depth: Optional[int] = None,
    expand_all: bool = False,
) -> None
```

**Usage:**
```python
from rich.pretty import pprint
pprint(my_complex_object, indent_guides=True, max_depth=3)
```

### `pretty_repr()`

Returns a pretty-formatted string representation of an object.

```python
pretty_repr(
    _object: Any,
    max_width: int = 80,
    indent_size: int = 4,
    max_length: Optional[int] = None,
    max_string: Optional[int] = None,
    max_depth: Optional[int] = None,
    expand_all: bool = False,
) -> str
```

### `traverse()`

Traverses an object and builds a tree structure for rendering.

```python
traverse(
    _object: Any,
    max_length: Optional[int] = None,
    max_string: Optional[int] = None,
    max_depth: Optional[int] = None,
) -> Node
```

## Supported Object Types

The module provides special handling for various Python types:

- **Built-in containers**: `list`, `dict`, `tuple`, `set`, `frozenset`
- **Collections**: `defaultdict`, `Counter`, `deque`, `UserDict`, `UserList`
- **Data structures**: `dataclass`, `namedtuple`, `attrs` objects
- **Special types**: `array`, `MappingProxyType`, `os.environ`
- **Custom objects**: Objects with `__rich_repr__` method

## Utility Functions

### Object Type Detection

- `is_expandable()`: Checks if an object can be expanded for pretty printing
- `_is_namedtuple()`: Detects namedtuple instances
- `_is_dataclass_repr()`: Checks if a dataclass uses default repr
- `_is_attr_object()`: Detects attrs-decorated objects
- `_safe_isinstance()`: Safe isinstance check that handles edge cases

## Usage Examples

### Basic Pretty Printing

```python
from rich.pretty import pprint

data = {
    'users': [
        {'name': 'Alice', 'age': 30},
        {'name': 'Bob', 'age': 25}
    ],
    'settings': {'debug': True, 'max_connections': 100}
}

pprint(data, indent_guides=True)
```

### REPL Integration

```python
from rich.pretty import install
install(max_length=10, max_string=50)
# All subsequent REPL output will be pretty printed
```

### Custom Object Rendering

```python
class MyClass:
    def __init__(self, name, value):
        self.name = name
        self.value = value
    
    def __rich_repr__(self):