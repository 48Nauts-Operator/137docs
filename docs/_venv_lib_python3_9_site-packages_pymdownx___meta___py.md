<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# Meta Module Documentation

## Overview

This module provides version management functionality following PEP 440 standards. It implements a custom `Version` class for parsing, validating, and comparing semantic versions, along with utilities for handling different release types (alpha, beta, release candidate, final, development, and post-releases).

## Purpose

- Parse and validate version strings according to PEP 440 specifications
- Provide comparable version objects for sorting and comparison operations
- Handle various release types including development, pre-release, and post-release versions
- Generate canonical version strings for distribution metadata

## Constants and Mappings

### Version Parsing Regex
```python
RE_VER = re.compile(r'''(?x)
    (?P<major>\d+)(?:\.(?P<minor>\d+))?(?:\.(?P<micro>\d+))?
    (?:(?P<type>a|b|rc)(?P<pre>\d+))?
    (?:\.post(?P<post>\d+))?
    (?:\.dev(?P<dev>\d+))?
''')
```
Complex regex pattern that captures all components of a PEP 440 version string.

### Release Type Mappings
- **`REL_MAP`**: Maps internal release names to PEP 440 abbreviations
- **`DEV_STATUS`**: Maps release types to development status strings for setup.py
- **`PRE_REL_MAP`**: Maps PEP 440 pre-release abbreviations to full names

## Classes

### Version

A namedtuple-based class that represents a semantic version with the following structure:
`(major, minor, micro, release, pre, post, dev)`

#### Constructor Parameters
- `major` (int): Major version number
- `minor` (int): Minor version number  
- `micro` (int): Micro/patch version number
- `release` (str): Release type (`"final"`, `"alpha"`, `"beta"`, `"candidate"`, `".dev"`, etc.)
- `pre` (int): Pre-release number (default: 0)
- `post` (int): Post-release number (default: 0)
- `dev` (int): Development release number (default: 0)

#### Key Methods

##### `_is_pre() -> bool`
Returns `True` if this is a pre-release version (pre > 0).

##### `_is_dev() -> bool`  
Returns `True` if this is a development version (release < "alpha").

##### `_is_post() -> bool`
Returns `True` if this is a post-release version (post > 0).

##### `_get_canonical() -> str`
Returns the canonical PEP 440 version string representation.

##### `_get_dev_status() -> str`
Returns the development status string suitable for setup.py classifiers.

#### Example Usage
```python
# Final release
Version(1, 2, 3, "final")           # -> "1.2.3"

# Pre-release  
Version(1, 2, 0, "alpha", pre=4)    # -> "1.2a4"

# Development release
Version(1, 2, 3, ".dev", dev=1)     # -> "1.2.3.dev1"

# Post-release
Version(1, 2, 0, "final", post=1)   # -> "1.2.post1"
```

## Functions

### `parse_version(ver: str) -> Version`

Parses a version string into a `Version` object.

**Parameters:**
- `ver` (str): Version string to parse

**Returns:**
- `Version`: Parsed version object

**Raises:**
- `ValueError`: If the version string is invalid

**Example:**
```python
version = parse_version("1.2.3a4")
# Returns: Version(1, 2, 3, "alpha", 4, 0, 0)
```

## Module Variables

- `__version_info__`: Current module version as a `Version` object
- `__version__`: Current module version as a string

## Validation Rules

The `Version` class enforces several validation rules:

- ‚úÖ All numeric parts must be non-negative integers
- ‚úÖ Pre-releases must have explicit pre-release numbers (no implicit pre-releases)
- ‚úÖ Post-releases cannot be combined with pre-releases
- ‚úÖ Development releases can be combined with pre-release types
- ‚ùå Epochs (`1!`) are not supported
- ‚ùå Local versions (`+custom`) are not supported
- ‚ùå Implicit post-releases (`post0`) are not allowed

## Notes and Suggestions

### ‚ö†Ô∏è Important Considerations

1. **Non-standard PEP 440 Implementation**: This is described as a "biased approach" to PEP 440, with stricter validation than the standard allows.

2. **Pre-release Validation**: Unlike PEP 440, this implementation requires explicit pre-release numbers and forbids implicit pre-releases.

3. **Sorting Behavior**: The tuple structure ensures proper version comparison using standard Python comparison operators.

### üí° Usage Recommendations

- Use this module when you need strict version validation beyond standard PEP 440
- Ideal for projects requiring consistent version formatting and comparison
- Consider the validation restrictions when migrating from other version systems

### üîß Potential Improvements

- Consider adding support for version ranges or constraints
- Could benefit from more comprehensive error messages for validation failures
- Documentation could include more edge cases and error scenarios