<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Meta Module Documentation

## Overview

This module provides version management functionality following PEP 440 specifications. It defines a custom `Version` class for semantic versioning and includes utilities for parsing and comparing version strings.

## Purpose

- **Version Management**: Create, parse, and compare semantic versions
- **PEP 440 Compliance**: Implements a biased approach to PEP 440 semantic versioning
- **Development Workflow**: Support for development, pre-release, and post-release versions

## Key Components

### Version Class

The main `Version` class extends `namedtuple` and provides structured version handling.

#### Structure
```python
Version(major, minor, micro, release, pre, post, dev)
```

#### Parameters
- `major` (int): Major version number
- `minor` (int): Minor version number  
- `micro` (int): Micro/patch version number
- `release` (str): Release type (`"final"`, `"alpha"`, `"beta"`, `"candidate"`, or development variants)
- `pre` (int): Pre-release number (default: 0)
- `post` (int): Post-release number (default: 0)
- `dev` (int): Development release number (default: 0)

#### Example Usage
```python
# Final releases
Version(1, 0, 0, "final")                    # 1.0
Version(1, 2, 3, "final")                    # 1.2.3

# Pre-releases
Version(1, 2, 0, "alpha", pre=4)             # 1.2a4
Version(1, 2, 0, "beta", pre=4)              # 1.2b4
Version(1, 2, 0, "candidate", pre=4)         # 1.2rc4

# Post-releases
Version(1, 2, 0, "final", post=1)            # 1.2.post1

# Development releases
Version(1, 2, 3, ".dev")                     # 1.2.3.dev0
Version(1, 2, 3, ".dev", dev=1)              # 1.2.3.dev1
```

### Important Methods

#### `_get_canonical()`
Returns the canonical string representation of the version.

#### `_is_pre()`, `_is_dev()`, `_is_post()`
Boolean methods to check version type:
- `_is_pre()`: Returns `True` if this is a pre-release version
- `_is_dev()`: Returns `True` if this is a development version
- `_is_post()`: Returns `True` if this is a post-release version

#### `_get_dev_status()`
Returns development status string suitable for setup.py classifiers.

### Utility Functions

#### `parse_version(ver: str) -> Version`
Parses a version string into a `Version` object.

```python
version = parse_version("1.2.3a4")
# Returns: Version(1, 2, 3, "alpha", pre=4, post=0, dev=0)
```

## Configuration Constants

### `RE_VER`
Regular expression pattern for parsing version strings with support for:
- Major.minor.micro format
- Pre-release identifiers (a, b, rc)
- Post-release identifiers (.post)
- Development identifiers (.dev)

### Mapping Dictionaries

- **`REL_MAP`**: Maps release types to their short forms
- **`DEV_STATUS`**: Maps release types to development status classifiers
- **`PRE_REL_MAP`**: Maps short pre-release identifiers to full names

## Version Information

The module defines its own version:
```python
__version_info__ = Version(10, 15, 0, "final")
__version__ = "10.15.0"
```

## Important Notes and Restrictions

⚠️ **Key Limitations:**
- **No implicit pre-releases**: Pre-release versions must have `pre > 0`
- **No post-releases with pre-releases**: Cannot combine post and pre-release flags
- **No epochs or local versions**: Does not support PEP 440 epochs (`1!`) or local versions (`+custom`)
- **Strict validation**: All version parts must be non-negative integers

## Suggestions for Usage

1. **Use for package versioning**: Ideal for Python packages requiring strict version control
2. **Integrate with setup.py**: Use `_get_dev_status()` for PyPI classifiers
3. **Version comparison**: Leverage tuple sorting for version comparisons (`v1 > v2`)
4. **CI/CD integration**: Parse and validate version strings in automated workflows

## Error Handling

The module raises `ValueError` exceptions for:
- Invalid version formats
- Negative version numbers
- Invalid release type combinations
- Implicit pre-releases
- Invalid post-release combinations