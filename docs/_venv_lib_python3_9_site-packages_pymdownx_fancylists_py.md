<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Fancy Lists Extension Documentation

## Overview

This module implements a Markdown extension that provides enhanced list functionality in the style of Pandoc. It extends Python-Markdown to support various ordered list styles including Roman numerals, alphabetical numbering, and custom formatting options.

## Purpose

The extension enhances the standard Markdown list processing by adding support for:
- Roman numeral lists (both upper and lowercase)
- Alphabetical lists (both upper and lowercase) 
- Generic placeholder lists using `#`
- Custom styling injection (CSS classes and inline styles)
- Pandoc-style list formatting

## Key Components

### Utility Functions

#### `roman2int(s)`
Converts Roman numerals to integers.

```python
roman2int("XIV")  # Returns 14
roman2int("iv")   # Returns 4
```

**Parameters:**
- `s` (str): Roman numeral string (validation should be done before calling)

**Returns:** Integer representation of the Roman numeral

### Core Classes

#### `FancyOListProcessor`
The main processor for ordered lists with fancy formatting.

**Key Features:**
- Supports multiple list styles: decimal, Roman, alphabetical, generic
- Handles nested lists and proper indentation
- Manages list type detection and validation
- Injects CSS styling when configured

**Important Methods:**
- `test(parent, block)`: Tests if a block starts with a list
- `run(parent, blocks)`: Processes list items and creates the HTML structure
- `get_fancy_type(m, first, fancy_type)`: Determines the list formatting type
- `get_items(sibling, block, blocks)`: Breaks blocks into individual list items

#### `FancyUListProcessor`
Extends `FancyOListProcessor` to handle unordered lists.

**Key Differences:**
- Uses `ul` tag instead of `ol`
- Simpler regex pattern for bullet points (`-`, `+`, `*`)

#### `FancyListBlock`
Block-level processor for explicit list configuration.

**Usage:**
```markdown
/// fancylists | type=i start=5
1. First item
2. Second item
///
```

**Supported Parameters:**
- `type`: List style (`1`, `a`, `A`, `i`, `I`)
- `start`: Starting number for the list

#### `FancyListTreeprocessor`
Cleans up internal metadata attributes after processing.

### Configuration Options

The extension supports several configuration options:

```python
{
    'additional_ordered_styles': [
        ['roman', 'alpha', 'generic'],
        "Specify the ordered list formats to add in addition to decimal."
    ],
    'inject_style': [
        False,
        "Inject style attribute with the appropriate 'list-style-type'"
    ],
    'inject_class': [
        False,
        "Inject a class indicating the 'list-style-type'"
    ]
}
```

## Usage Examples

### Basic Roman Numeral List
```markdown
i. First item
ii. Second item  
iii. Third item
```

### Alphabetical List
```markdown
a. Alpha item
b. Beta item
c. Gamma item
```

### Explicit List Configuration
```markdown
/// fancylists | type=I start=10
1. Item X
2. Item XI
3. Item XII
///
```

## Important Constants

### `OL_STYLE`
Maps list type indicators to CSS `list-style-type` values:
```python
{
    '1': 'decimal',
    'a': 'lower-alpha', 
    'A': 'upper-alpha',
    'i': 'lower-roman',
    'I': 'upper-roman'
}
```

### `ROMAN_MAP`
Roman numeral to integer mapping for conversion.

## Notes and Suggestions

### ‚ö†Ô∏è Development Status
- **Work in progress** - not fully tested
- Use with caution in production environments
- Consider thorough testing before deployment

### üîß Configuration Recommendations
- Enable only the list styles you need to avoid conflicts
- Use `inject_class` for CSS-based styling instead of inline styles
- Test nested list behavior with your specific use cases

### üêõ Potential Issues
- Roman numeral detection may conflict with single-letter alphabetical lists
- Complex nesting scenarios may need additional testing
- Performance impact with very large lists hasn't been evaluated

### üí° Enhancement Opportunities
- Add support for custom delimiter characters
- Implement stricter Roman numeral validation
- Add configuration for custom CSS class prefixes
- Consider adding support for definition lists

## Installation

To use this extension:

```python
import markdown
from your_package import FancyListExtension

md = markdown.Markdown(extensions=[FancyListExtension(
    additional_ordered_styles=['roman', 'alpha'],
    inject_class=True
)])
```