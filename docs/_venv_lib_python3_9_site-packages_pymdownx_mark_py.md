<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# PyMdown Extensions - Mark Module

## Overview

The `pymdownx.mark` module is a Python-Markdown extension that provides support for HTML `<mark>` tags using a simple Markdown-like syntax. It allows users to highlight text by wrapping it with double equal signs (`==text==`), which gets converted to `<mark>text</mark>` in the HTML output.

## Purpose

This extension enables easy text highlighting in Markdown documents without requiring raw HTML. It's particularly useful for:
- Highlighting important text passages
- Creating visual emphasis different from bold or italic
- Maintaining clean, readable Markdown syntax

## Key Components

### Classes

#### `MarkProcessor`
```python
class MarkProcessor(util.PatternSequenceProcessor)
```
- **Purpose**: Handles basic mark pattern matching
- **Pattern**: Matches `==text==` syntax
- **Usage**: Used when smart marking is disabled

#### `MarkSmartProcessor`
```python
class MarkSmartProcessor(util.PatternSequenceProcessor)
```
- **Purpose**: Handles intelligent mark pattern matching
- **Pattern**: Matches `==text==` with smart word boundary detection
- **Usage**: Default processor that handles connected words intelligently

#### `MarkExtension`
```python
class MarkExtension(Extension)
```
- **Purpose**: Main extension class that integrates mark functionality into Markdown
- **Configuration**: 
  - `smart_mark`: Boolean flag to enable/disable smart marking (default: `True`)

### Regular Expression Patterns

The module defines several regex patterns:

- **`MARK`**: Basic pattern for `==text==`
- **`SMART_MARK`**: Intelligent pattern that handles word boundaries
- **`NOT_MARK`**: Prevents false positives with spaced equal signs
- **`CONTENT`** and **`SMART_CONTENT`**: Define what content can be marked

### Key Methods

#### `extendMarkdown(md)`
- Registers the extension with the Markdown processor
- Configures escape characters
- Sets up inline pattern processors
- Chooses between smart and basic mark processing

#### `makeExtension(*args, **kwargs)`
- Factory function to create and return a `MarkExtension` instance
- Standard entry point for Markdown extensions

## Usage Examples

### Basic Usage
```markdown
This is ==highlighted text== in a sentence.
```

### Smart Marking
The smart marking feature intelligently handles connected words:
```markdown
==connected==words== will be processed correctly
```

## Configuration

The extension accepts one configuration option:

| Option | Type | Default | Description |
|--------|------|---------|-------------|
| `smart_mark` | Boolean | `True` | Enable intelligent word boundary detection |

### Example Configuration
```python
import markdown
from pymdownx import mark

md = markdown.Markdown(extensions=[mark.makeExtension(smart_mark=False)])
```

## Installation and Setup

To use this extension in your Markdown processing:

```python
import markdown
from pymdownx import mark

# Method 1: Direct instantiation
md = markdown.Markdown(extensions=[mark.makeExtension()])

# Method 2: String reference (if properly installed)
md = markdown.Markdown(extensions=['pymdownx.mark'])
```

## Notes and Suggestions

### Best Practices
- Keep the default `smart_mark=True` setting unless you have specific requirements
- Be aware that equal signs (`=`) are escaped characters when this extension is active
- Test your markdown with both simple and complex mark patterns

### Limitations
- The extension processes inline patterns only
- Nested marking is not supported
- Equal signs in code blocks or other special contexts may need careful handling

### Dependencies
- Requires the `markdown` package
- Uses internal `util` module from the pymdownx package
- Compatible with Python's `re` module for regex processing

## License

This module is released under the MIT License, allowing free use, modification, and distribution.