<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# Slugs Module Documentation

## Overview

The `slugs` module provides functionality for generating URL-friendly slugs from text content. It offers configurable slug generation with support for Unicode normalization, case handling, and URL encoding. This module is commonly used in web applications, content management systems, and static site generators to create clean URLs from titles or headings.

## Purpose

- Convert text content (including HTML) into URL-safe slugs
- Handle Unicode characters properly with normalization options
- Provide flexible case handling (lowercase, case-folding, ASCII-only lowercasing)
- Support percent encoding for broader compatibility
- Replace legacy slug functions with a unified, configurable approach

## Key Components

### Regular Expressions

The module uses several compiled regular expressions for text processing:

```python
RE_TAGS = re.compile(r'</?[^>]*>', re.UNICODE)           # Remove HTML tags
RE_INVALID_SLUG_CHAR = re.compile(r'[^\w\- ]', re.UNICODE)  # Invalid slug characters
RE_SEP = re.compile(r' ', re.UNICODE)                    # Space separators
RE_ASCII_LETTERS = re.compile(r'[A-Z]', re.UNICODE)      # ASCII uppercase letters
```

### Core Functions

#### `slugify(**kwargs)`

The main function for creating configurable slug generators.

**Parameters:**
- `case` (str): Case handling option
  - `'none'`: Preserve original case
  - `'lower'`: Convert to lowercase
  - `'lower-ascii'`: Only lowercase ASCII characters (for GitHub Flavored Markdown compatibility)
  - `'fold'`: Use Unicode case folding
- `percent_encode` (bool): Whether to percent-encode the result
- `normalize` (str): Unicode normalization form (default: 'NFC')

**Returns:** A partial function configured with the specified options

**Example:**
```python
# Create a slug generator with lowercase and percent encoding
slug_func = slugify(case='lower', percent_encode=True)
result = slug_func("Hello World!", "-")  # Returns "hello-world%21"
```

#### `_uslugify(text, sep, case="none", percent_encode=False, normalize='NFC')`

Internal function that performs the actual slug generation.

**Process:**
1. Normalize Unicode characters
2. Strip HTML tags
3. Apply case transformation
4. Remove invalid characters
5. Replace spaces with separators
6. Apply percent encoding if requested

## Deprecated Functions

The module includes several deprecated functions maintained for backward compatibility:

- `uslugify()` - Basic Unicode slugify with lowercase
- `uslugify_encoded()` - Unicode slugify with percent encoding
- `uslugify_cased()` - Unicode slugify preserving case
- `uslugify_cased_encoded()` - Case-preserving with percent encoding
- `gfm()` - GitHub Flavored Markdown compatible slugs
- `gfm_encoded()` - GFM slugs with percent encoding

⚠️ **Note:** All deprecated functions should be replaced with the configurable `slugify()` function.

## Usage Examples

### Basic Usage

```python
from slugs import slugify

# Create a simple lowercase slug generator
simple_slugify = slugify(case='lower')
slug = simple_slugify("My Blog Post Title", "-")
# Result: "my-blog-post-title"
```

### Advanced Configuration

```python
# GitHub Flavored Markdown style slugs
gfm_slugify = slugify(case='lower-ascii', normalize='NFC')
slug = gfm_slugify("Αlpha Βeta Γamma", "-")

# Percent-encoded slugs for broader compatibility
encoded_slugify = slugify(case='lower', percent_encode=True)
slug = encoded_slugify("Special chars: @#$%", "-")
```

### Handling HTML Content

```python
html_content = "<h1>My <em>Important</em> Title</h1>"
clean_slug = slugify(case='lower')(html_content, "-")
# HTML tags are automatically stripped
```

## Technical Notes

- **Unicode Support**: Full Unicode support with configurable normalization
- **HTML Handling**: Automatically strips HTML tags from input
- **Performance**: Uses compiled regular expressions for efficient processing
- **Flexibility**: Functional approach allows creating reusable slug generators
- **Backward Compatibility**: Deprecated functions maintained for existing code

## Migration Guide

When migrating from deprecated functions to `slugify()`:

```python
# Old way
from slugs import uslugify
slug = uslugify(text, "-")

# New way
from slugs import slugify
slug_func = slugify(case='lower')
slug = slug_func(text, "-")
```

## Dependencies

- `re` - Regular expression operations
- `unicodedata` - Unicode character database
- `functools` - Higher-order functions and operations on callable objects
- `urllib.parse` - URL parsing utilities
- `util` - Internal utility module (for deprecation warnings)