<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# Slugs Module Documentation

## Overview

The `slugs` module provides functionality for generating URL-friendly slugs from text content. It includes Unicode support, HTML tag stripping, and various formatting options for creating clean, web-safe identifiers from arbitrary text input.

## Purpose

This module is designed to:
- Convert text (including Unicode) into URL-safe slugs
- Strip HTML tags from input text
- Provide configurable case handling options
- Support percent encoding for enhanced URL compatibility
- Maintain backward compatibility with deprecated functions

## Regular Expressions

The module uses several compiled regular expressions for text processing:

```python
RE_TAGS = re.compile(r'</?[^>]*>', re.UNICODE)           # Matches HTML tags
RE_INVALID_SLUG_CHAR = re.compile(r'[^\w\- ]', re.UNICODE)  # Invalid slug characters
RE_SEP = re.compile(r' ', re.UNICODE)                    # Space separator
RE_ASCII_LETTERS = re.compile(r'[A-Z]', re.UNICODE)      # ASCII uppercase letters
```

## Core Functions

### `slugify(**kwargs)`

The main configurable function for creating slugs.

**Parameters:**
- `case` (str): Case handling option
  - `'none'`: Keep original case (default)
  - `'lower'`: Convert to lowercase
  - `'lower-ascii'`: Lowercase ASCII letters only
  - `'fold'`: Use Unicode case folding
- `percent_encode` (bool): Whether to percent-encode the result (default: False)
- `normalize` (str): Unicode normalization form (default: 'NFC')

**Returns:** A partial function configured with the specified options

**Example:**
```python
# Create a slug function with lowercase conversion
slug_func = slugify(case='lower', percent_encode=True)
result = slug_func("Hello World!", "-")  # Returns "hello-world!"
```

### `_uslugify(text, sep, case="none", percent_encode=False, normalize='NFC')`

Internal function that performs the actual slug generation.

**Process:**
1. Normalizes Unicode text using the specified normalization form
2. Strips HTML tags using regex
3. Applies case transformation based on the `case` parameter
4. Removes invalid characters (keeps only word characters, spaces, and dashes)
5. Replaces spaces with the specified separator
6. Optionally applies percent encoding

## Deprecated Functions

⚠️ **Note:** The following functions are deprecated and maintained only for backward compatibility. Use the configurable `slugify()` function instead.

### Legacy Functions

- `uslugify(text, sep)` - Basic Unicode slugify with lowercase
- `uslugify_encoded(text, sep)` - Unicode slugify with percent encoding
- `uslugify_cased(text, sep)` - Unicode slugify preserving case
- `uslugify_cased_encoded(text, sep)` - Case-preserving with percent encoding
- `gfm(text, sep)` - GitHub Flavored Markdown style (ASCII lowercase only)
- `gfm_encoded(text, sep)` - GFM style with percent encoding

## Usage Examples

```python
# Basic usage with default settings
basic_slugify = slugify()
result = basic_slugify("My Blog Post Title", "-")
# Output: "My-Blog-Post-Title"

# Lowercase with percent encoding
encoded_slugify = slugify(case='lower', percent_encode=True)
result = encoded_slugify("Café & Restaurant", "-")
# Output: "caf%C3%A9-restaurant"

# GitHub-style (ASCII lowercase only)
gfm_slugify = slugify(case='lower-ascii')
result = gfm_slugify("API Documentation", "-")
# Output: "api-Documentation"  # Non-ASCII chars preserve case
```

## Dependencies

- `re` - Regular expression operations
- `unicodedata` - Unicode character database
- `functools` - Higher-order functions and operations on callable objects
- `urllib.parse.quote` - URL encoding
- `.util` - Internal utility module (for deprecation warnings)

## License

MIT License - Copyright (c) 2014 - 2017 Isaac Muse

## Recommendations

1. **Use the modern API**: Prefer `slugify()` over deprecated functions
2. **Choose appropriate case handling**: Consider your use case when selecting case options
3. **Unicode normalization**: Stick with 'NFC' normalization unless you have specific requirements
4. **Separator choice**: Common separators are `"-"` (dash) and `"_"` (underscore)
5. **Percent encoding**: Enable only when necessary for strict URL compliance