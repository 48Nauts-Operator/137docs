<!-- Auto-generated by Claude on 2025-06-08 06:13 -->

# Tasklist Extension Documentation

## Overview

The `pymdownx.tasklist` module is a Python Markdown extension that adds support for GitHub-style task lists. It converts Markdown checkbox syntax like `[ ]` and `[x]` into HTML checkbox elements within list items.

## Purpose

This extension enables users to create interactive task lists in Markdown documents by:
- Converting `[ ]` to unchecked checkboxes
- Converting `[x]` or `[X]` to checked checkboxes  
- Adding appropriate CSS classes for styling
- Optionally making checkboxes clickable/interactive

## Key Components

### Regular Expression Pattern

```python
RE_CHECKBOX = re.compile(r"^(?P<checkbox> *\[(?P<state>(?:x|X| ){1})\] +)(?P<line>.*)", re.DOTALL)
```

This regex pattern matches:
- `checkbox`: The entire checkbox syntax including spaces
- `state`: The checkbox state (`x`, `X`, or space)
- `line`: The remaining text after the checkbox

### Functions

#### `get_checkbox(state, custom_checkbox=False, clickable_checkbox=False)`

Generates the HTML checkbox element based on configuration options.

**Parameters:**
- `state`: The checkbox state (`x`/`X` for checked, space for unchecked)
- `custom_checkbox`: If `True`, wraps checkbox in a label with custom styling elements
- `clickable_checkbox`: If `True`, checkboxes are interactive (not disabled)

**Returns:** HTML string for the checkbox element

### Classes

#### `TasklistTreeprocessor`

The main processor that traverses the Markdown tree and converts checkbox syntax to HTML.

**Key Methods:**

- `inline(li)`: Searches for checkbox syntax directly in list item text
- `sub_paragraph(li)`: Searches for checkbox syntax within paragraph elements inside list items
- `run(root)`: Main processing method that:
  - Finds all list items with checkbox syntax
  - Converts checkboxes to HTML
  - Adds CSS classes (`task-list-item` and `task-list`)

#### `TasklistExtension`

The main extension class that integrates with Python Markdown.

**Configuration Options:**

| Option | Default | Description |
|--------|---------|-------------|
| `custom_checkbox` | `False` | Adds label wrapper for custom CSS styling |
| `clickable_checkbox` | `False` | Makes checkboxes interactive (not disabled) |
| `delete` | `True` | Enable delete functionality |
| `subscript` | `True` | Enable subscript functionality |

## Usage Example

```python
import markdown
from pymdownx import tasklist

# Basic usage
md = markdown.Markdown(extensions=['pymdownx.tasklist'])

# With configuration
md = markdown.Markdown(
    extensions=['pymdownx.tasklist'],
    extension_configs={
        'pymdownx.tasklist': {
            'custom_checkbox': True,
            'clickable_checkbox': True
        }
    }
)

# Convert Markdown with task lists
text = """
- [ ] Unchecked item
- [x] Checked item
- [X] Also checked item
"""

html = md.convert(text)
```

## Generated HTML Structure

### Basic Checkbox
```html
<ul class="task-list">
    <li class="task-list-item">
        <input type="checkbox" disabled/> Unchecked item
    </li>
    <li class="task-list-item">
        <input type="checkbox" disabled checked/> Checked item
    </li>
</ul>
```

### Custom Checkbox (with styling wrapper)
```html
<ul class="task-list">
    <li class="task-list-item">
        <label class="task-list-control">
            <input type="checkbox" disabled/>
            <span class="task-list-indicator"></span>
        </label> Unchecked item
    </li>
</ul>
```

## Notes and Suggestions

### CSS Styling
- Use the `.task-list` class to style the containing list
- Use `.task-list-item` class to style individual task items
- When `custom_checkbox` is enabled, use `.task-list-control` and `.task-list-indicator` for advanced styling

### Configuration Recommendations
- Enable `clickable_checkbox` only if you have JavaScript to handle state persistence
- Use `custom_checkbox` when you need advanced visual styling beyond default browser checkboxes
- The `delete` and `subscript` config options appear unused in the current implementation

### Limitations
- Checkboxes are disabled by default to prevent state changes without persistence
- The extension processes the document tree after initial Markdown parsing
- Nested task lists inherit the `task-list` class on their parent `<ul>` elements