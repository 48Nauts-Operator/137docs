<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# requests.api Module Documentation

## Overview

The `requests.api` module provides the core API functions for the Python Requests library. This module implements convenient wrapper functions for making HTTP requests using different methods (GET, POST, PUT, etc.). It serves as the primary interface that users interact with when using the Requests library.

**Copyright:** (c) 2012 by Kenneth Reitz  
**License:** Apache2

## Purpose

This module simplifies HTTP requests by providing:
- A unified interface for all HTTP methods
- Automatic session management with proper resource cleanup
- Convenient method-specific functions that wrap the core `request()` function

## Core Functions

### `request(method, url, **kwargs)`

The foundational function that constructs and sends HTTP requests. All other HTTP method functions are built on top of this.

**Parameters:**
- `method` (str): HTTP method (`GET`, `POST`, `PUT`, `PATCH`, `DELETE`, `HEAD`, `OPTIONS`)
- `url` (str): Target URL for the request
- `**kwargs`: Optional parameters including:
  - `params`: Query string parameters
  - `data`: Request body data
  - `json`: JSON data to send
  - `headers`: HTTP headers dictionary
  - `cookies`: Cookies to include
  - `files`: Files for multipart upload
  - `auth`: Authentication tuple
  - `timeout`: Request timeout (float or tuple)
  - `allow_redirects`: Enable/disable redirects (bool)
  - `proxies`: Proxy configuration
  - `verify`: SSL certificate verification
  - `stream`: Stream response content
  - `cert`: Client certificate

**Returns:** `requests.Response` object

**Example:**
```python
import requests
response = requests.request('GET', 'https://httpbin.org/get')
```

### HTTP Method Functions

#### `get(url, params=None, **kwargs)`
Sends a GET request for retrieving data.

```python
response = requests.get('https://api.example.com/users', params={'page': 1})
```

#### `post(url, data=None, json=None, **kwargs)`
Sends a POST request for creating/submitting data.

```python
response = requests.post('https://api.example.com/users', json={'name': 'John'})
```

#### `put(url, data=None, **kwargs)`
Sends a PUT request for updating/replacing resources.

```python
response = requests.put('https://api.example.com/users/1', json={'name': 'Jane'})
```

#### `patch(url, data=None, **kwargs)`
Sends a PATCH request for partial updates.

```python
response = requests.patch('https://api.example.com/users/1', json={'email': 'new@email.com'})
```

#### `delete(url, **kwargs)`
Sends a DELETE request for removing resources.

```python
response = requests.delete('https://api.example.com/users/1')
```

#### `head(url, **kwargs)`
Sends a HEAD request to get headers without body content.

```python
response = requests.head('https://api.example.com/users/1')
```

**Note:** HEAD requests default to `allow_redirects=False`

#### `options(url, **kwargs)`
Sends an OPTIONS request to determine allowed methods.

```python
response = requests.options('https://api.example.com/users')
```

## Key Features

### Automatic Session Management
- Uses context manager (`with` statement) for proper session cleanup
- Prevents resource leaks and socket issues
- Each request creates a temporary session that's automatically closed

### Consistent Interface
- All functions return `requests.Response` objects
- Uniform parameter handling across all HTTP methods
- Consistent error handling and behavior

## Usage Notes

### Best Practices
- Use specific HTTP method functions (`get()`, `post()`, etc.) rather than the generic `request()` function when possible
- Always handle potential exceptions (connection errors, timeouts, etc.)
- Consider using sessions for multiple requests to the same host for better performance

### Important Considerations
- **Resource Management**: The module automatically handles session cleanup to prevent memory leaks
- **Default Behaviors**: 
  - Most methods allow redirects by default (except HEAD)
  - SSL verification is enabled by default
  - No timeout is set by default (requests will wait indefinitely)

### Common Patterns
```python
# Simple GET request
response = requests.get('https://api.example.com/data')

# POST with JSON data
response = requests.post('https://api.example.com/data', json={'key': 'value'})

# Request with custom headers and timeout
response = requests.get(
    'https://api.example.com/data',
    headers={'Authorization': 'Bearer token'},
    timeout=30
)
```

## Dependencies

- `sessions`: Internal module providing the Session class functionality