<!-- Auto-generated by Claude on 2025-06-02 06:15 -->

# urllib3 Exceptions Module

This module defines the complete exception hierarchy and warning system for the urllib3 HTTP client library. It provides structured error handling for various HTTP-related failures, connection issues, SSL problems, and protocol errors.

## Purpose

The module serves as the centralized exception handling system for urllib3, providing:
- A hierarchical structure of exceptions for different error types
- Warning classes for security and compatibility issues
- Custom implementations of standard HTTP errors with additional context
- Support for error serialization (pickling) for distributed systems

## Exception Hierarchy

### Base Exceptions

#### `HTTPError`
```python
class HTTPError(Exception)
```
- **Purpose**: Root exception class for all urllib3-specific errors
- **Usage**: Base class that all other urllib3 exceptions inherit from

#### `HTTPWarning`
```python
class HTTPWarning(Warning)
```
- **Purpose**: Base warning class for urllib3 warnings
- **Usage**: Parent class for all urllib3-specific warnings

### Pool-Related Exceptions

#### `PoolError`
```python
class PoolError(HTTPError)
```
- **Purpose**: Base exception for connection pool-related errors
- **Parameters**:
  - `pool`: The connection pool that caused the error
  - `message`: Error description
- **Features**: Includes pickling support for serialization

#### `RequestError`
```python
class RequestError(PoolError)
```
- **Purpose**: Pool errors that have associated URLs
- **Parameters**:
  - `pool`: The connection pool
  - `url`: The requested URL that caused the error
  - `message`: Error description

### Connection Exceptions

#### `MaxRetryError`
```python
class MaxRetryError(RequestError)
```
- **Purpose**: Raised when maximum retry attempts are exceeded
- **Key Attributes**:
  - `reason`: The underlying exception that caused the retries
  - `url`: The URL that failed
  - `pool`: The connection pool used

#### `TimeoutError` and Subclasses
```python
class TimeoutError(HTTPError)
class ReadTimeoutError(TimeoutError, RequestError) 
class ConnectTimeoutError(TimeoutError)
```
- **Purpose**: Handle various timeout scenarios
- **Usage**: Catch `TimeoutError` to handle all timeout types

#### `NewConnectionError`
```python
class NewConnectionError(ConnectTimeoutError, HTTPError)
```
- **Purpose**: Raised when establishing a new connection fails
- **Note**: Usually indicates `ECONNREFUSED` or similar network errors
- **Deprecation Warning**: The `pool` property is deprecated in favor of `conn`

### SSL and Security Exceptions

#### `SSLError`
```python
class SSLError(HTTPError)
```
- **Purpose**: SSL certificate validation failures in HTTPS connections

#### `ProxyError`
```python
class ProxyError(HTTPError)
```
- **Purpose**: Proxy connection failures
- **Features**: Preserves the original error in `original_error` attribute

### Protocol and Data Exceptions

#### `ProtocolError`
```python
class ProtocolError(HTTPError)
# Alias for backwards compatibility
ConnectionError = ProtocolError
```
- **Purpose**: Unexpected behavior during request/response processing

#### `IncompleteRead`
```python
class IncompleteRead(HTTPError, httplib_IncompleteRead)
```
- **Purpose**: Response length doesn't match expected Content-Length
- **Features**: 
  - Optimized for streamed reads with integer `partial` values
  - Extends standard library's `IncompleteRead`

#### `DecodeError`
```python
class DecodeError(HTTPError)
```
- **Purpose**: Automatic content decoding failures based on Content-Type

### URL and Location Exceptions

#### `LocationValueError` and Subclasses
```python
class LocationValueError(ValueError, HTTPError)
class LocationParseError(LocationValueError)
class URLSchemeUnknown(LocationValueError)
```
- **Purpose**: Handle malformed or unsupported URLs
- **Usage**: Validate URL inputs and scheme support

## Warning Classes

### Security Warnings
- `SecurityWarning`: Base for security-related warnings
- `InsecureRequestWarning`: Unverified HTTPS requests  
- `NotOpenSSLWarning`: Unsupported SSL library usage
- `SystemTimeWarning`: Suspected incorrect system time
- `InsecurePlatformWarning`: Missing TLS/SSL platform features

### Compatibility Warnings
- `DependencyWarning`: Missing optional dependencies

## Important Notes and Suggestions

### For Library Users
- **Catch Base Exceptions**: Use `HTTPError` to catch all urllib3-specific errors
- **Timeout Handling**: Catch `TimeoutError` for all timeout-related issues
- **Retry Logic**: Handle `MaxRetryError` to implement custom retry strategies
- **Security**: Pay attention to `SecurityWarning` subclasses for security implications

### For Developers
- **Pickling Support**: Most exceptions implement `__reduce__()` for serialization
- **Error Context**: Exceptions preserve original errors and provide rich context
- **Backward Compatibility**: Some exceptions maintain aliases (e.g., `ConnectionError`)

### Usage Example
```python
try:
    response = http.request('GET', 'https://example.com')
except MaxRetryError as e:
    print(f"Failed after retries: {e.reason}")
except SSLError:
    print("SSL certificate validation failed")
except TimeoutError:
    print("Request timed out")
except HTTPError as e:
    print(f"HTTP error occurred: {e}")
```

### Deprecation Notices
- `NewConnectionError.pool` property is deprecated; use `conn` instead
- `ProxySchemeUnknown` will stop inheriting from `AssertionError` in v2.0

This exception system provides comprehensive error handling capabilities while maintaining backward compatibility and supporting advanced features like serialization for distributed systems.