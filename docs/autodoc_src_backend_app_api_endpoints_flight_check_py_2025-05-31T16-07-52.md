<!--
This documentation was auto-generated by Claude on 2025-05-31T16-07-52.
Source file: ./src/backend/app/api/endpoints/flight_check.py
-->

# Flight Check API Endpoints

## Overview

The Flight Check API provides comprehensive platform diagnostics through REST endpoints. It offers various levels of system health checks, from quick health assessments to deep diagnostic analyses.

## Base Information

- **Module**: `app.routers.flight_check`
- **Base Router**: `/flight-check` (typically)
- **Documentation Reference**: `docs/flight-check.md`

## Authentication Requirements

| Endpoint | Authentication | Role Required |
|----------|----------------|---------------|
| `/health` | None | N/A |
| `/comprehensive` | Required | Any authenticated user |
| `/deep` | Required | Admin only |
| `/database` | Required | Any authenticated user |
| `/ai-services` | Required | Any authenticated user |
| `/multi-tenant` | Required | Any authenticated user |
| `/processing` | Required | Any authenticated user |
| `/analytics` | Required | Any authenticated user |
| `/performance` | Required | Admin only |
| `/security` | Required | Admin only |
| `/status` | Conditional | Varies by check type |

## Enums

### CheckType

```python
class CheckType(str, Enum):
    QUICK = "quick"
    COMPREHENSIVE = "comprehensive"
    DEEP = "deep"
```

## API Endpoints

### 1. Quick Health Check

**Endpoint**: `GET /health`

**Description**: Performs a quick health check covering essential systems only. Completes within 30 seconds.

**Authentication**: None required

**Response Model**: `Dict[str, Any]`

**Example Response**:
```json
{
  "status": "healthy",
  "timestamp": "2024-01-15T10:30:00Z",
  "checks": {
    "database": "ok",
    "basic_services": "ok"
  }
}
```

**Error Handling**:
- Returns HTTP 500 if health check fails
- Logs errors for debugging

---

### 2. Comprehensive Check

**Endpoint**: `GET /comprehensive`

**Description**: Performs comprehensive system analysis covering all major systems. Completes within 5 minutes.

**Authentication**: Required (any authenticated user)

**Response Model**: `Dict[str, Any]`

**Additional Features**:
- Includes user context in response
- Comprehensive system coverage

**Example Response**:
```json
{
  "status": "healthy",
  "timestamp": "2024-01-15T10:30:00Z",
  "checks": {
    "database": {...},
    "ai_services": {...},
    "multi_tenant": {...}
  },
  "user": {
    "id": 123,
    "username": "john_doe",
    "role": "user"
  }
}
```

---

### 3. Deep Diagnostic

**Endpoint**: `GET /deep`

**Description**: Performs complete system analysis with deep diagnostics. Completes within 15 minutes.

**Authentication**: Required (admin role only)

**Response Model**: `Dict[str, Any]`

**Authorization**:
- Restricted to users with `admin` role
- Returns HTTP 403 for non-admin users

---

### 4. Database Check

**Endpoint**: `GET /database`

**Description**: Focused health check for database systems.

**Authentication**: Required (any authenticated user)

**Response Model**: `Dict[str, Any]`

**Example Response**:
```json
{
  "category": "Database",
  "timestamp": "2024-01-15T10:30:00Z",
  "check": {
    "connection": "ok",
    "query_performance": "good",
    "storage": "healthy"
  }
}
```

---

### 5. AI Services Check

**Endpoint**: `GET /ai-services`

**Description**: Focused health check for AI and machine learning services.

**Authentication**: Required (any authenticated user)

**Response Model**: `Dict[str, Any]`

**Example Response**:
```json
{
  "category": "AI Services",
  "timestamp": "2024-01-15T10:30:00Z",
  "checks": {
    "nlp_service": "ok",
    "ml_models": "loaded",
    "processing_queue": "healthy"
  }
}
```

---

### 6. Multi-Tenant Check

**Endpoint**: `GET /multi-tenant`

**Description**: Focused health check for multi-tenant system components.

**Authentication**: Required (any authenticated user)

**Response Model**: `Dict[str, Any]`

**Example Response**:
```json
{
  "category": "Multi-Tenant System",
  "timestamp": "2024-01-15T10:30:00Z",
  "checks": {
    "tenant_isolation": "ok",
    "resource_allocation": "balanced",
    "access_control": "secure"
  }
}
```

---

### 7. Processing Check

**Endpoint**: `GET /processing`

**Description**: Focused health check for document processing pipeline.

**Authentication**: Required (any authenticated user)

**Response Model**: `Dict[str, Any]`

**Note**: Currently uses `_check_file_system()` method from FlightCheckService.

---

### 8. Analytics Check

**Endpoint**: `GET /analytics`

**Description**: Focused health check for analytics and reporting systems.

**Authentication**: Required (any authenticated user)

**Response Model**: `Dict[str, Any]`

**Example Response**:
```json
{
  "category": "Analytics & Reporting",
  "timestamp": "2024-01-15T10:30:00Z",
  "checks": {
    "data_aggregation": "ok",
    "report_generation": "functional",
    "metrics_collection": "active"
  }
}
```

---

### 9. Performance Check

**Endpoint**: `GET /performance`

**Description**: Focused system performance analysis.

**Authentication**: Required (admin role only)

**Response Model**: `Dict[str, Any]`

**Authorization**:
- Restricted to users with `admin` role
- Returns HTTP 403 for non-admin users

---

### 10. Security Check

**Endpoint**: `GET /security`

**Description**: Focused security configuration an