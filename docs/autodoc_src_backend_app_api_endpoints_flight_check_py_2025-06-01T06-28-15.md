<!--
This documentation was auto-generated by Claude on 2025-06-01T06-28-15.
Source file: ./src/backend/app/api/endpoints/flight_check.py
-->

# Flight Check API Endpoints

## Overview

The Flight Check API provides comprehensive platform diagnostics through REST API endpoints. This module implements health checks and system diagnostics with varying levels of depth and authentication requirements.

## Features

- **Multiple Check Types**: Quick, comprehensive, and deep diagnostic options
- **Authentication Integration**: Role-based access control for sensitive operations
- **Focused Diagnostics**: Targeted checks for specific system components
- **Unified Status Endpoint**: Configurable system status with depth control
- **Error Handling**: Comprehensive exception handling with logging

## API Endpoints

### Health Check Endpoints

#### GET `/health`

**Quick Health Check** - Essential systems only (30 seconds)

- **Authentication**: None required
- **Response Time**: ~30 seconds
- **Description**: Basic health check for essential systems

**Response:**
```json
{
  "status": "healthy",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...}
}
```

#### GET `/comprehensive`

**Comprehensive Check** - All major systems (5 minutes)

- **Authentication**: Required (any authenticated user)
- **Response Time**: ~5 minutes
- **Description**: Thorough check of all major system components

**Response:**
```json
{
  "status": "healthy",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...},
  "user": {
    "id": 123,
    "username": "user123",
    "role": "user"
  }
}
```

#### GET `/deep`

**Deep Diagnostic** - Complete system analysis (15 minutes)

- **Authentication**: Admin role required
- **Response Time**: ~15 minutes
- **Description**: Complete system analysis with detailed diagnostics

**Response:**
```json
{
  "status": "healthy",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...},
  "user": {
    "id": 123,
    "username": "admin123",
    "role": "admin"
  }
}
```

### Component-Specific Checks

#### GET `/database`

**Database Health Check**

- **Authentication**: Required
- **Description**: Focused database connectivity and performance check

**Response:**
```json
{
  "category": "Database",
  "timestamp": "2024-01-01T12:00:00Z",
  "check": {...}
}
```

#### GET `/ai-services`

**AI Services Health Check**

- **Authentication**: Required
- **Description**: Check AI service availability and performance

**Response:**
```json
{
  "category": "AI Services",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...}
}
```

#### GET `/multi-tenant`

**Multi-Tenant System Check**

- **Authentication**: Required
- **Description**: Validate multi-tenant system functionality

**Response:**
```json
{
  "category": "Multi-Tenant System",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...}
}
```

#### GET `/processing`

**Document Processing Check**

- **Authentication**: Required
- **Description**: Validate document processing pipeline

**Response:**
```json
{
  "category": "Document Processing",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...}
}
```

#### GET `/analytics`

**Analytics System Check**

- **Authentication**: Required
- **Description**: Check analytics and reporting system health

**Response:**
```json
{
  "category": "Analytics & Reporting",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...}
}
```

#### GET `/performance`

**Performance Check**

- **Authentication**: Admin role required
- **Description**: System performance metrics and analysis

**Response:**
```json
{
  "category": "Performance",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...}
}
```

#### GET `/security`

**Security Configuration Check**

- **Authentication**: Admin role required
- **Description**: Security configuration and compliance check

**Response:**
```json
{
  "category": "Security",
  "timestamp": "2024-01-01T12:00:00Z",
  "checks": {...}
}
```

### Unified Status Endpoint

#### GET `/status`

**Configurable System Status**

- **Authentication**: Variable (depends on check type)
- **Description**: Unified endpoint with configurable check depth

**Query Parameters:**
- `check_type`: Type of check to perform
  - `quick` (default) - No authentication required
  - `comprehensive` - Authentication required
  - `deep` - Admin role required

**Example:**
```
GET /status?check_type=comprehensive
```

**Response:**
```json
{
  "status": "healthy",
  "timestamp": "2024-01-01T12:00:00Z",
  "check_type": "comprehensive",
  "checks": {...},
  "user": {
    "id": 123,
    "username": "user123",
    "role": "user"
  }
}
```

## Data Models

### CheckType Enum

```python
class CheckType(str, Enum):
    QUICK = "quick"
    COMPREHENSIVE = "comprehensive"
    DEEP = "deep"
```

## Authentication Requirements

| Endpoint | Authentication | Role Requirement |
|----------|---------------|------------------|
| `/health` | None | None |
| `/comprehensive` | Required | Any authenticated user |
| `/deep` | Required | Admin |
| `/database` | Required | Any authenticated user |
| `/ai-services` | Required | Any authenticated user |
| `/multi-tenant` | Required | Any authenticated user |
| `/processing` | Required | Any authenticated user |
| `/analytics` | Required | Any authenticated user |
| `/performance` | Required | Admin |
| `/security` | Required | Admin |
| `/status` | Variable | Depends on check_type |

## Error Handling

All endpoints implement comprehensive error handling:

- **500 Internal Server Error**: System check failures
-