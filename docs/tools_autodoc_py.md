<!-- Auto-generated by Claude on 2025-06-01 10:12 -->

# autodoc.py Documentation

<!-- Auto-generated by Claude on 2024-12-28 --!>

## Overview

`autodoc.py` is an **automated documentation generator** that scans Python source files in a project and creates comprehensive Markdown documentation using Claude AI from Anthropic. The tool integrates seamlessly with MkDocs to create a professional documentation website.

## Purpose

- **Automated Documentation**: Generates technical documentation for Python files without manual intervention
- **AI-Powered Analysis**: Uses Claude AI to create detailed, readable documentation with explanations of code purpose and functionality
- **MkDocs Integration**: Automatically updates `mkdocs.yml` configuration and generates navigation structure
- **Project Documentation Portal**: Creates a centralized documentation hub with index pages and organized navigation

## Key Features

### üîç **Intelligent File Scanning**
- Recursively scans directories for Python files
- Filters out test files (`test_*`) and `__init__.py` files
- Processes multiple files in batch

### ü§ñ **AI Documentation Generation**
- Integrates with Anthropic's Claude API
- Generates comprehensive Markdown documentation
- Provides code explanations, function/class descriptions, and usage suggestions

### üìö **MkDocs Integration**
- Updates `mkdocs.yml` with Material theme configuration
- Creates organized navigation structure
- Supports both light and dark themes with advanced features

## Important Functions

### `snake_md_path(rel_path: str) -> str`
Converts file paths to markdown-friendly filenames by replacing slashes and dots with underscores.

```python
# Example: "src/utils/helper.py" ‚Üí "src_utils_helper_py.md"
```

### `load_mkdocs_config(path: str)`
Loads existing MkDocs configuration or creates a default structure if none exists.

### `write_mkdocs_config(path: str, static_nav, autodoc_items)`
Generates a comprehensive MkDocs configuration with:
- **Material Theme**: Modern, responsive design
- **Advanced Features**: Code highlighting, search, navigation enhancements
- **Dual Theme Support**: Light and dark mode toggle
- **Extended Markdown**: Support for admonitions, code blocks, emojis, and more

### `collect_python_files(base: str)`
Recursively finds all Python files in the target directory, excluding test files and `__init__.py`.

### `write_index_md(nav_items)` & `append_missing_docs_to_index(nav_items)`
Creates a comprehensive documentation index with:
- Auto-generated documentation links
- Additional markdown files discovery
- Timestamps and portal-style presentation

## Configuration & Setup

### Required Environment Variables
```bash
ANTHROPIC_API_KEY=your_api_key_here
ANTHROPIC_MODEL=claude-sonnet-4-20250514  # Optional, defaults to this model
```

### Dependencies
- `anthropic`: Claude AI API client
- `python-dotenv`: Environment variable management
- `pyyaml`: YAML configuration handling

## Usage

### Basic Usage
```bash
python autodoc.py [target_directory]
```

### Examples
```bash
# Document current directory
python autodoc.py

# Document specific directory
python autodoc.py src/
```

## Output Structure

```
docs/
‚îú‚îÄ‚îÄ index.md                    # Main documentation portal
‚îú‚îÄ‚îÄ module_name_py.md          # Generated docs for each Python file
‚îú‚îÄ‚îÄ another_module_py.md
‚îî‚îÄ‚îÄ ...

mkdocs.yml                     # Updated MkDocs configuration
```

## Suggestions and Notes

### ‚úÖ **Best Practices**
- **API Key Security**: Store your Anthropic API key in `.env` file, never commit it to version control
- **Regular Updates**: Run periodically to keep documentation synchronized with code changes
- **Review Generated Content**: While Claude generates high-quality docs, review for accuracy and completeness

### ‚ö†Ô∏è **Important Considerations**
- **API Costs**: Each file processed consumes Claude API tokens - monitor usage for large projects
- **File Filtering**: Currently excludes test files and `__init__.py` - modify `collect_python_files()` if different behavior is needed
- **Error Handling**: Individual file processing errors won't stop the entire process

### üöÄ **Enhancement Opportunities**
- Add configuration file support for customizing documentation templates
- Implement incremental updates (only process changed files)
- Add support for other programming languages
- Include code complexity metrics and suggestions

### üîß **Troubleshooting**
- Ensure `ANTHROPIC_API_KEY` is properly set in your environment
- Check file permissions for the target directory and output location
- Verify Python files are valid and parseable

This tool transforms the often tedious task of documentation writing into an automated, AI-powered process that maintains consistency and quality across your entire Python project.